<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡∏∞‡∏ö‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    
    <style>
        body { font-family: 'Sarabun', sans-serif; }
        .fade-in { animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .slide-in { animation: slideIn 0.3s ease-out; }
        @keyframes slideIn { from { transform: translateX(-100%); } to { transform: translateX(0); } }
        .loading-spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #3498db;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Navigation -->
    <nav class="bg-white shadow-2xl border-b-4 border-gray-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-18">
                <div class="flex items-center">
                    <div class="flex-shrink-0 flex items-center">
                        <div class="w-12 h-12 bg-white rounded-xl flex items-center justify-center mr-4 shadow-lg transform hover:scale-105 transition-transform">
                            <span class="text-blue-600 font-bold text-2xl">üèõÔ∏è</span>
                        </div>
                        <div>
                            <h1 class="text-xl font-bold text-gray-800">‡∏£‡∏∞‡∏ö‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£</h1>
                            <p class="text-gray-600 text-xs">Government Transfer System</p>
                        </div>
                    </div>
                </div>
                <div class="flex items-center space-x-2">
                    <button id="homeBtn" class="nav-btn bg-gray-100 text-gray-700 px-5 py-2.5 rounded-xl hover:bg-blue-600 hover:text-white transition-all duration-300 font-medium shadow-lg">
                        <span class="flex items-center">
                            <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"/>
                            </svg>
                            ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å
                        </span>
                    </button>
                    <button id="allNewsBtn" class="nav-btn text-gray-700 hover:text-white px-5 py-2.5 rounded-xl hover:bg-blue-600 transition-all duration-300 font-medium">
                        <span class="flex items-center">
                            <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M2 5a2 2 0 012-2h8a2 2 0 012 2v10a2 2 0 002 2H4a2 2 0 01-2-2V5zm3 1h6v4H5V6zm6 6H5v2h6v-2z" clip-rule="evenodd"/>
                            </svg>
                            ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
                        </span>
                    </button>
                    
                    <!-- ‡∏á‡∏≤‡∏ô‡∏™‡∏≠‡∏ö‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£ Dropdown -->
                    <div class="relative group">
                        <button id="examBtn" class="nav-btn text-gray-700 hover:text-white px-5 py-2.5 rounded-xl hover:bg-blue-600 transition-all duration-300 font-medium flex items-center">
                            <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                            ‡∏á‡∏≤‡∏ô‡∏™‡∏≠‡∏ö‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£
                            <svg class="w-4 h-4 ml-2 transform group-hover:rotate-180 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div class="absolute left-0 mt-3 w-64 bg-white rounded-2xl shadow-2xl border border-gray-100 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 z-50 transform translate-y-2 group-hover:translate-y-0">
                            <div class="p-2">
                                <button onclick="showExamCategory('csc')" class="flex items-center w-full text-left px-4 py-3 text-gray-700 hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 hover:text-blue-600 rounded-xl transition-all duration-200 group/item">
                                    <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-3 group-hover/item:bg-blue-200 transition-colors">
                                        <svg class="w-5 h-5 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
                                            <path fill-rule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                        </svg>
                                    </div>
                                    <div>
                                        <div class="font-semibold">‡∏ú‡πà‡∏≤‡∏ô ‡∏Å‡∏û.</div>
                                        <div class="text-xs text-gray-500">‡∏™‡∏≠‡∏ö‡∏ú‡πà‡∏≤‡∏ô‡∏Ñ‡∏ì‡∏∞‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£‡∏û‡∏•‡πÄ‡∏£‡∏∑‡∏≠‡∏ô</div>
                                    </div>
                                </button>
                                <button onclick="showExamCategory('non-csc')" class="flex items-center w-full text-left px-4 py-3 text-gray-700 hover:bg-gradient-to-r hover:from-green-50 hover:to-emerald-50 hover:text-green-600 rounded-xl transition-all duration-200 group/item">
                                    <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center mr-3 group-hover/item:bg-green-200 transition-colors">
                                        <svg class="w-5 h-5 text-green-600" fill="currentColor" viewBox="0 0 20 20">
                                            <path d="M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z"/>
                                        </svg>
                                    </div>
                                    <div>
                                        <div class="font-semibold">‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô ‡∏Å‡∏û.</div>
                                        <div class="text-xs text-gray-500">‡∏™‡∏≠‡∏ö‡πÇ‡∏î‡∏¢‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô‡πÄ‡∏à‡πâ‡∏≤‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î</div>
                                    </div>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢ Dropdown -->
                    <div class="relative group">
                        <button id="transferBtn" class="nav-btn text-gray-700 hover:text-white px-5 py-2.5 rounded-xl hover:bg-blue-600 transition-all duration-300 font-medium flex items-center">
                            <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"/>
                            </svg>
                            ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢
                            <svg class="w-4 h-4 ml-2 transform group-hover:rotate-180 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div class="absolute left-0 mt-3 w-72 bg-white rounded-2xl shadow-2xl border border-gray-100 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 z-50 transform translate-y-2 group-hover:translate-y-0">
                            <div class="p-2">
                                <button onclick="openTransferCategory('civil')" class="flex items-center w-full text-left px-4 py-3 text-gray-700 hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 hover:text-blue-600 rounded-xl transition-all duration-200 group/item">
                                    <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-3 group-hover/item:bg-blue-200 transition-colors">
                                        <svg class="w-5 h-5 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
                                            <path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"/>
                                        </svg>
                                    </div>
                                    <div>
                                        <div class="font-semibold">‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£‡∏û‡∏•‡πÄ‡∏£‡∏∑‡∏≠‡∏ô</div>
                                        <div class="text-xs text-gray-500">‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á ‡∏ó‡∏ö‡∏ß‡∏á ‡∏Å‡∏£‡∏°</div>
                                    </div>
                                </button>
                                <button onclick="openTransferCategory('local')" class="flex items-center w-full text-left px-4 py-3 text-gray-700 hover:bg-gradient-to-r hover:from-green-50 hover:to-emerald-50 hover:text-green-600 rounded-xl transition-all duration-200 group/item">
                                    <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center mr-3 group-hover/item:bg-green-200 transition-colors">
                                        <svg class="w-5 h-5 text-green-600" fill="currentColor" viewBox="0 0 20 20">
                                            <path fill-rule="evenodd" d="M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd"/>
                                        </svg>
                                    </div>
                                    <div>
                                        <div class="font-semibold">‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡∏¥‡πà‡∏ô</div>
                                        <div class="text-xs text-gray-500">‡πÄ‡∏ó‡∏®‡∏ö‡∏≤‡∏• ‡∏≠‡∏ö‡∏ï. ‡∏≠‡∏ö‡∏à.</div>
                                    </div>
                                </button>
                                <button onclick="openTransferCategory('independent')" class="flex items-center w-full text-left px-4 py-3 text-gray-700 hover:bg-gradient-to-r hover:from-purple-50 hover:to-violet-50 hover:text-purple-600 rounded-xl transition-all duration-200 group/item">
                                    <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center mr-3 group-hover/item:bg-purple-200 transition-colors">
                                        <svg class="w-5 h-5 text-purple-600" fill="currentColor" viewBox="0 0 20 20">
                                            <path fill-rule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                        </svg>
                                    </div>
                                    <div>
                                        <div class="font-semibold">‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡∏≠‡∏¥‡∏™‡∏£‡∏∞</div>
                                        <div class="text-xs text-gray-500">‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏ú‡πà‡∏ô‡∏î‡∏¥‡∏ô ‡∏õ.‡∏õ.‡∏ä. ‡∏Ø‡∏•‡∏Ø</div>
                                    </div>
                                </button>
                                <button onclick="openTransferCategory('others')" class="flex items-center w-full text-left px-4 py-3 text-gray-700 hover:bg-gradient-to-r hover:from-orange-50 hover:to-amber-50 hover:text-orange-600 rounded-xl transition-all duration-200 group/item">
                                    <div class="w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center mr-3 group-hover/item:bg-orange-200 transition-colors">
                                        <svg class="w-5 h-5 text-orange-600" fill="currentColor" viewBox="0 0 20 20">
                                            <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                                        </svg>
                                    </div>
                                    <div>
                                        <div class="font-semibold">‡∏≠‡∏∑‡πà‡∏ô‡πÜ</div>
                                        <div class="text-xs text-gray-500">‡∏£‡∏±‡∏ê‡∏ß‡∏¥‡∏™‡∏≤‡∏´‡∏Å‡∏¥‡∏à ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô‡∏≠‡∏∑‡πà‡∏ô</div>
                                    </div>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ‡∏•‡∏á‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏® Dropdown -->
                    <div class="relative group">
                        <button id="postBtn" class="nav-btn bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-xl transition-all duration-300 font-medium shadow-lg flex items-center">
                            <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z" clip-rule="evenodd"/>
                            </svg>
                            ‡∏•‡∏á‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®
                            <svg class="w-4 h-4 ml-2 transform group-hover:rotate-180 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div class="absolute left-0 mt-3 w-64 bg-white rounded-2xl shadow-2xl border border-gray-100 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 z-50 transform translate-y-2 group-hover:translate-y-0">
                            <div class="p-2">
                                <button onclick="showPostExam()" class="flex items-center w-full text-left px-4 py-3 text-gray-700 hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 hover:text-blue-600 rounded-xl transition-all duration-200 group/item">
                                    <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-3 group-hover/item:bg-blue-200 transition-colors">
                                        <svg class="w-5 h-5 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
                                            <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                        </svg>
                                    </div>
                                    <div>
                                        <div class="font-semibold">‡∏á‡∏≤‡∏ô‡∏™‡∏≠‡∏ö‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£</div>
                                        <div class="text-xs text-gray-500">‡∏•‡∏á‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏™‡∏≠‡∏ö‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô</div>
                                    </div>
                                </button>
                                <button onclick="showPostTransfer()" class="flex items-center w-full text-left px-4 py-3 text-gray-700 hover:bg-gradient-to-r hover:from-green-50 hover:to-emerald-50 hover:text-green-600 rounded-xl transition-all duration-200 group/item">
                                    <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center mr-3 group-hover/item:bg-green-200 transition-colors">
                                        <svg class="w-5 h-5 text-green-600" fill="currentColor" viewBox="0 0 20 20">
                                            <path fill-rule="evenodd" d="M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"/>
                                        </svg>
                                    </div>
                                    <div>
                                        <div class="font-semibold">‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢</div>
                                        <div class="text-xs text-gray-500">‡∏•‡∏á‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢</div>
                                    </div>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div id="userInfo" class="hidden flex items-center space-x-3 bg-gray-100 rounded-xl px-4 py-2">
                        <div class="w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center">
                            <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"/>
                            </svg>
                        </div>
                        <span id="userEmail" class="text-sm text-gray-700 font-medium"></span>
                        <button id="signOutBtn" class="text-red-600 hover:text-white text-sm font-medium hover:bg-red-500 px-2 py-1 rounded-lg transition-all">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Home Page -->
        <div id="homePage" class="page-content fade-in">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold text-gray-800 mb-4">‡∏£‡∏∞‡∏ö‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£</h2>
                <p class="text-xl text-gray-600 max-w-3xl mx-auto">‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡∏•‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£ ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏Å‡∏≤‡∏£‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà</p>
            </div>

            <!-- Stats Cards -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
                <div class="bg-white rounded-xl shadow-lg p-6 border-l-4 border-blue-500">
                    <div class="flex items-center">
                        <div class="p-3 bg-blue-100 rounded-full">
                            <span class="text-2xl">üìã</span>
                        </div>
                        <div class="ml-4">
                            <h3 class="text-lg font-semibold text-gray-800">‡∏Ç‡πà‡∏≤‡∏ß‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢</h3>
                            <p class="text-3xl font-bold text-blue-600" id="newsCount">12</p>
                        </div>
                    </div>
                </div>
                <div class="bg-white rounded-xl shadow-lg p-6 border-l-4 border-green-500">
                    <div class="flex items-center">
                        <div class="p-3 bg-green-100 rounded-full">
                            <span class="text-2xl">üë•</span>
                        </div>
                        <div class="ml-4">
                            <h3 class="text-lg font-semibold text-gray-800">‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£</h3>
                            <p class="text-3xl font-bold text-green-600">1,247</p>
                        </div>
                    </div>
                </div>
                <div class="bg-white rounded-xl shadow-lg p-6 border-l-4 border-purple-500">
                    <div class="flex items-center">
                        <div class="p-3 bg-purple-100 rounded-full">
                            <span class="text-2xl">üè¢</span>
                        </div>
                        <div class="ml-4">
                            <h3 class="text-lg font-semibold text-gray-800">‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô</h3>
                            <p class="text-3xl font-bold text-purple-600">89</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Latest News -->
            <div class="bg-white rounded-xl shadow-lg p-8">
                <h3 class="text-2xl font-bold text-gray-800 mb-6">‡∏Ç‡πà‡∏≤‡∏ß‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</h3>
                <div id="latestNews" class="space-y-4">
                    <!-- News items will be populated here -->
                </div>
                <div class="text-center mt-6">
                    <button id="viewAllNews" class="bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors">‡∏î‡∏π‡∏Ç‡πà‡∏≤‡∏ß‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
                </div>
            </div>
        </div>

        <!-- News Page -->
        <div id="newsPage" class="page-content hidden">
            <div class="flex justify-between items-center mb-8">
                <h2 class="text-3xl font-bold text-gray-800">‡∏Ç‡πà‡∏≤‡∏ß‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£</h2>
                <div class="flex space-x-4">
                    <input type="text" id="searchNews" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡πà‡∏≤‡∏ß..." class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                    <select id="filterDepartment" class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                        <option value="">‡∏ó‡∏∏‡∏Å‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô</option>
                        <option value="‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ò‡∏¥‡∏Å‡∏≤‡∏£">‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ò‡∏¥‡∏Å‡∏≤‡∏£</option>
                        <option value="‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏°‡∏´‡∏≤‡∏î‡πÑ‡∏ó‡∏¢">‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏°‡∏´‡∏≤‡∏î‡πÑ‡∏ó‡∏¢</option>
                        <option value="‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏™‡∏∏‡∏Ç">‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏™‡∏∏‡∏Ç</option>
                    </select>
                </div>
            </div>

            <div id="newsGrid" class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <!-- News cards will be populated here -->
            </div>
        </div>

        <!-- Exam Page -->
        <div id="examPage" class="page-content hidden">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-800 mb-4">‡∏á‡∏≤‡∏ô‡∏™‡∏≠‡∏ö‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£</h2>
                <p class="text-xl text-gray-600">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£</p>
            </div>

            <!-- Exam Categories -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12">
                <!-- ‡∏Å‡∏û. Exams -->
                <div class="bg-white rounded-xl shadow-lg p-8">
                    <div class="text-center mb-6">
                        <div class="w-20 h-20 mx-auto mb-4 bg-blue-100 rounded-full flex items-center justify-center">
                            <svg class="w-12 h-12 text-blue-600" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                        </div>
                        <h3 class="text-2xl font-bold text-gray-800 mb-2">‡∏™‡∏≠‡∏ö‡∏ú‡πà‡∏≤‡∏ô ‡∏Å‡∏û.</h3>
                        <p class="text-gray-600">‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£‡∏ú‡πà‡∏≤‡∏ô‡∏Ñ‡∏ì‡∏∞‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£‡∏û‡∏•‡πÄ‡∏£‡∏∑‡∏≠‡∏ô</p>
                    </div>
                    
                    <div class="space-y-4 mb-6">
                        <div class="bg-blue-50 rounded-lg p-4">
                            <h4 class="font-semibold text-blue-800 mb-2">üìä ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö</h4>
                            <div class="grid grid-cols-2 gap-4 text-sm">
                                <div>
                                    <span class="text-blue-600">‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏õ‡∏¥‡∏î‡∏™‡∏≠‡∏ö:</span>
                                    <span class="font-semibold">25 ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</span>
                                </div>
                                <div>
                                    <span class="text-blue-600">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏≠‡∏±‡∏ï‡∏£‡∏≤:</span>
                                    <span class="font-semibold">450 ‡∏≠‡∏±‡∏ï‡∏£‡∏≤</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <button onclick="showExamCategory('csc')" class="w-full bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors font-medium">
                        ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö ‡∏Å‡∏û.
                    </button>
                </div>

                <!-- Non-‡∏Å‡∏û. Exams -->
                <div class="bg-white rounded-xl shadow-lg p-8">
                    <div class="text-center mb-6">
                        <div class="w-20 h-20 mx-auto mb-4 bg-green-100 rounded-full flex items-center justify-center">
                            <svg class="w-12 h-12 text-green-600" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 14l9-5-9-5-9 5 9 5z"/>
                                <path d="M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"/>
                            </svg>
                        </div>
                        <h3 class="text-2xl font-bold text-gray-800 mb-2">‡∏™‡∏≠‡∏ö‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô ‡∏Å‡∏û.</h3>
                        <p class="text-gray-600">‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£‡πÇ‡∏î‡∏¢‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô‡πÄ‡∏à‡πâ‡∏≤‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î‡πÄ‡∏≠‡∏á</p>
                    </div>
                    
                    <div class="space-y-4 mb-6">
                        <div class="bg-green-50 rounded-lg p-4">
                            <h4 class="font-semibold text-green-800 mb-2">üìä ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö</h4>
                            <div class="grid grid-cols-2 gap-4 text-sm">
                                <div>
                                    <span class="text-green-600">‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏õ‡∏¥‡∏î‡∏™‡∏≠‡∏ö:</span>
                                    <span class="font-semibold">18 ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</span>
                                </div>
                                <div>
                                    <span class="text-green-600">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏≠‡∏±‡∏ï‡∏£‡∏≤:</span>
                                    <span class="font-semibold">320 ‡∏≠‡∏±‡∏ï‡∏£‡∏≤</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <button onclick="showExamCategory('non-csc')" class="w-full bg-green-600 text-white py-3 px-6 rounded-lg hover:bg-green-700 transition-colors font-medium">
                        ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô ‡∏Å‡∏û.
                    </button>
                </div>
            </div>

            <!-- Quick Stats -->
            <div class="bg-gradient-to-r from-purple-600 to-blue-600 rounded-xl text-white p-8">
                <div class="text-center mb-6">
                    <h3 class="text-2xl font-bold mb-2">‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£ ‡∏õ‡∏µ 2567</h3>
                    <p class="text-purple-100">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                    <div class="text-center">
                        <div class="text-3xl font-bold mb-2">43</div>
                        <div class="text-purple-100">‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold mb-2">770</div>
                        <div class="text-purple-100">‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏ß‡πà‡∏≤‡∏á</div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold mb-2">15,420</div>
                        <div class="text-purple-100">‡∏ú‡∏π‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏≠‡∏ö</div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold mb-2">1:20</div>
                        <div class="text-purple-100">‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Exam Category Page -->
        <div id="examCategoryPage" class="page-content hidden">
            <div class="max-w-6xl mx-auto">
                <div class="flex items-center mb-8">
                    <button id="backToExam" class="mr-4 p-2 text-gray-600 hover:text-blue-600 transition-colors">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                        </svg>
                    </button>
                    <div>
                        <h2 id="examCategoryTitle" class="text-3xl font-bold text-gray-800">‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö‡∏ú‡πà‡∏≤‡∏ô ‡∏Å‡∏û.</h2>
                        <p id="examCategoryDesc" class="text-gray-600 mt-1">‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£‡∏ú‡πà‡∏≤‡∏ô‡∏Ñ‡∏ì‡∏∞‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£‡∏û‡∏•‡πÄ‡∏£‡∏∑‡∏≠‡∏ô</p>
                    </div>
                </div>

                <!-- Filter and Search -->
                <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
                    <div class="flex flex-col md:flex-row gap-4">
                        <div class="flex-1">
                            <input type="text" id="searchExam" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á..." class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                        </div>
                        <div>
                            <select id="filterExamDepartment" class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                                <option value="">‡∏ó‡∏∏‡∏Å‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô</option>
                                <option value="‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ò‡∏¥‡∏Å‡∏≤‡∏£">‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ò‡∏¥‡∏Å‡∏≤‡∏£</option>
                                <option value="‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏°‡∏´‡∏≤‡∏î‡πÑ‡∏ó‡∏¢">‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏°‡∏´‡∏≤‡∏î‡πÑ‡∏ó‡∏¢</option>
                                <option value="‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏™‡∏∏‡∏Ç">‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏™‡∏∏‡∏Ç</option>
                                <option value="‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏±‡∏á">‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏±‡∏á</option>
                            </select>
                        </div>
                        <div>
                            <select id="filterExamStatus" class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                                <option value="">‡∏ó‡∏∏‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</option>
                                <option value="open">‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£</option>
                                <option value="closed">‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£</option>
                                <option value="testing">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏≠‡∏ö</option>
                                <option value="announced">‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ú‡∏•</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Exam List -->
                <div id="examList" class="space-y-6">
                    <!-- Exam items will be populated here -->
                </div>
            </div>
        </div>

        <!-- Post Exam Page -->
        <div id="postExamPage" class="page-content hidden">
            <div class="max-w-4xl mx-auto">
                <div class="bg-white rounded-xl shadow-lg p-8">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">‡∏•‡∏á‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏á‡∏≤‡∏ô‡∏™‡∏≠‡∏ö‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£</h2>
                    
                    <form id="postExamForm" class="space-y-6">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</label>
                                <input type="text" id="examPosition" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô</label>
                                <select id="examDepartment" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                                    <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô</option>
                                    <option value="‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ò‡∏¥‡∏Å‡∏≤‡∏£">‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ò‡∏¥‡∏Å‡∏≤‡∏£</option>
                                    <option value="‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏°‡∏´‡∏≤‡∏î‡πÑ‡∏ó‡∏¢">‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏°‡∏´‡∏≤‡∏î‡πÑ‡∏ó‡∏¢</option>
                                    <option value="‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏™‡∏∏‡∏Ç">‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏™‡∏∏‡∏Ç</option>
                                    <option value="‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏±‡∏á">‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏±‡∏á</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏≠‡∏±‡∏ï‡∏£‡∏≤</label>
                                <input type="number" id="examPositionsCount" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤</label>
                                <select id="examEducation" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                                    <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤</option>
                                    <option value="‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡∏ï‡∏£‡∏µ">‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡∏ï‡∏£‡∏µ</option>
                                    <option value="‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡πÇ‡∏ó">‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡πÇ‡∏ó</option>
                                    <option value="‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡πÄ‡∏≠‡∏Å">‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡πÄ‡∏≠‡∏Å</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö</label>
                                <select id="examType" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                                    <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</option>
                                    <option value="csc">‡∏ú‡πà‡∏≤‡∏ô ‡∏Å‡∏û.</option>
                                    <option value="non-csc">‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô ‡∏Å‡∏û.</option>
                                </select>
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏á‡∏≤‡∏ô</label>
                            <textarea id="examDescription" rows="4" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required></textarea>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</label>
                                <input type="text" id="examSalary" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" placeholder="15,000 - 25,000" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏á‡∏≤‡∏ô</label>
                                <input type="text" id="examLocation" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">‡∏ß‡∏±‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏±‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£</label>
                                <input type="date" id="examApplicationStart" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">‡∏ß‡∏±‡∏ô‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î‡∏£‡∏±‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£</label>
                                <input type="date" id="examApplicationEnd" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">‡∏ß‡∏±‡∏ô‡∏™‡∏≠‡∏ö</label>
                                <input type="date" id="examDate" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">‡πÑ‡∏ü‡∏•‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏® (PDF)</label>
                            <input type="file" id="examFile" accept=".pdf" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                        </div>
                        
                        <button type="submit" class="w-full bg-green-600 text-white py-3 px-6 rounded-lg hover:bg-green-700 transition-colors font-medium">‡πÄ‡∏ú‡∏¢‡πÅ‡∏û‡∏£‡πà‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏™‡∏≠‡∏ö‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£</button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Post Transfer Page -->
        <div id="postTransferPage" class="page-content hidden">
            <div class="max-w-4xl mx-auto">
                <div class="bg-white rounded-xl shadow-lg p-8">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">‡∏•‡∏á‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢</h2>
                    
                    <form id="postTransferForm" class="space-y-6">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®</label>
                                <input type="text" id="transferTitle" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô</label>
                                <select id="transferDepartment" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                                    <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô</option>
                                    <option value="‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ò‡∏¥‡∏Å‡∏≤‡∏£">‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ò‡∏¥‡∏Å‡∏≤‡∏£</option>
                                    <option value="‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏°‡∏´‡∏≤‡∏î‡πÑ‡∏ó‡∏¢">‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏°‡∏´‡∏≤‡∏î‡πÑ‡∏ó‡∏¢</option>
                                    <option value="‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏™‡∏∏‡∏Ç">‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏™‡∏∏‡∏Ç</option>
                                    <option value="‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏±‡∏á">‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏±‡∏á</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏≠‡∏±‡∏ï‡∏£‡∏≤</label>
                                <input type="number" id="transferPositionsCount" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£</label>
                                <select id="transferType" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                                    <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</option>
                                    <option value="civil">‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£‡∏û‡∏•‡πÄ‡∏£‡∏∑‡∏≠‡∏ô</option>
                                    <option value="local">‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡∏¥‡πà‡∏ô</option>
                                    <option value="independent">‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡∏≠‡∏¥‡∏™‡∏£‡∏∞</option>
                                    <option value="others">‡∏≠‡∏∑‡πà‡∏ô‡πÜ</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</label>
                                <input type="text" id="transferSalary" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" placeholder="15,000 - 25,000" required>
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®</label>
                            <textarea id="transferDescription" rows="4" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required></textarea>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏á‡∏≤‡∏ô</label>
                                <input type="text" id="transferLocation" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥</label>
                                <input type="text" id="transferRequirements" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">‡∏ß‡∏±‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏±‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£</label>
                                <input type="date" id="transferApplicationStart" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">‡∏ß‡∏±‡∏ô‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î‡∏£‡∏±‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£</label>
                                <input type="date" id="transferApplicationEnd" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">‡πÑ‡∏ü‡∏•‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏® (PDF)</label>
                            <input type="file" id="transferFile" accept=".pdf" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                        </div>
                        
                        <button type="submit" class="w-full bg-green-600 text-white py-3 px-6 rounded-lg hover:bg-green-700 transition-colors font-medium">‡πÄ‡∏ú‡∏¢‡πÅ‡∏û‡∏£‡πà‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢</button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Agency Page -->
        <div id="agencyPage" class="page-content hidden">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-800 mb-4">‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢</h2>
                <p class="text-xl text-gray-600">‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Civil Service Cards -->
                <div class="bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow">
                    <div class="text-center mb-6">
                        <div class="w-20 h-20 mx-auto mb-4 bg-blue-100 rounded-full flex items-center justify-center">
                            <svg class="w-12 h-12 text-blue-600" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 14l9-5-9-5-9 5 9 5z"/>
                                <path d="M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"/>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold text-gray-800 mb-2">‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£‡∏û‡∏•‡πÄ‡∏£‡∏∑‡∏≠‡∏ô</h3>
                        <p class="text-gray-600 text-sm mb-4">‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£‡∏û‡∏•‡πÄ‡∏£‡∏∑‡∏≠‡∏ô‡∏ó‡∏∏‡∏Å‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á</p>
                    </div>
                    <div class="space-y-3">
                        <button onclick="openTransferCategory('civil')" class="w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors">
                            ‡∏î‡∏π‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢
                        </button>
                        <div class="text-center text-sm text-gray-500">
                            ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡πÉ‡∏´‡∏°‡πà: <span class="font-semibold text-blue-600">8 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</span>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow">
                    <div class="text-center mb-6">
                        <div class="w-20 h-20 mx-auto mb-4 bg-green-100 rounded-full flex items-center justify-center">
                            <svg class="w-12 h-12 text-green-600" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M19.428 15.428a2 2 0 00-1.022-.547l-2.5-.5a2 2 0 00-1.806.547L12 17.5l-2.1-2.572a2 2 0 00-1.806-.547l-2.5.5a2 2 0 00-1.022.547l-1.5 1.5A2 2 0 003 17.5V19a2 2 0 002 2h14a2 2 0 002-2v-1.5a2 2 0 00-.072-1.072l-1.5-1.5z"/>
                                <path d="M12 2a3 3 0 100 6 3 3 0 000-6z"/>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold text-gray-800 mb-2">‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡∏¥‡πà‡∏ô</h3>
                        <p class="text-gray-600 text-sm mb-4">‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡∏¥‡πà‡∏ô‡∏ó‡∏∏‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö</p>
                    </div>
                    <div class="space-y-3">
                        <button onclick="openTransferCategory('local')" class="w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors">
                            ‡∏î‡∏π‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢
                        </button>
                        <div class="text-center text-sm text-gray-500">
                            ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡πÉ‡∏´‡∏°‡πà: <span class="font-semibold text-green-600">5 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</span>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow">
                    <div class="text-center mb-6">
                        <div class="w-20 h-20 mx-auto mb-4 bg-purple-100 rounded-full flex items-center justify-center">
                            <svg class="w-12 h-12 text-purple-600" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold text-gray-800 mb-2">‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡∏≠‡∏¥‡∏™‡∏£‡∏∞</h3>
                        <p class="text-gray-600 text-sm mb-4">‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡∏≠‡∏¥‡∏™‡∏£‡∏∞‡πÅ‡∏•‡∏∞‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô‡∏£‡∏±‡∏ê</p>
                    </div>
                    <div class="space-y-3">
                        <button onclick="openTransferCategory('independent')" class="w-full bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors">
                            ‡∏î‡∏π‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢
                        </button>
                        <div class="text-center text-sm text-gray-500">
                            ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡πÉ‡∏´‡∏°‡πà: <span class="font-semibold text-purple-600">3 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</span>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow">
                    <div class="text-center mb-6">
                        <div class="w-20 h-20 mx-auto mb-4 bg-orange-100 rounded-full flex items-center justify-center">
                            <svg class="w-12 h-12 text-orange-600" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold text-gray-800 mb-2">‡∏≠‡∏∑‡πà‡∏ô‡πÜ</h3>
                        <p class="text-gray-600 text-sm mb-4">‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ê‡∏ß‡∏¥‡∏™‡∏≤‡∏´‡∏Å‡∏¥‡∏à</p>
                    </div>
                    <div class="space-y-3">
                        <button onclick="openTransferCategory('others')" class="w-full bg-orange-600 text-white py-2 px-4 rounded-lg hover:bg-orange-700 transition-colors">
                            ‡∏î‡∏π‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢
                        </button>
                        <div class="text-center text-sm text-gray-500">
                            ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡πÉ‡∏´‡∏°‡πà: <span class="font-semibold text-orange-600">2 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Transfer Category Page -->
        <div id="transferCategoryPage" class="page-content hidden">
            <div class="max-w-6xl mx-auto">
                <div class="flex items-center mb-8">
                    <button id="backToTransfer" class="mr-4 p-2 text-gray-600 hover:text-blue-600 transition-colors">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                        </svg>
                    </button>
                    <div>
                        <h2 id="transferCategoryTitle" class="text-3xl font-bold text-gray-800">‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£‡∏û‡∏•‡πÄ‡∏£‡∏∑‡∏≠‡∏ô</h2>
                        <p id="transferCategoryDesc" class="text-gray-600 mt-1">‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£‡∏û‡∏•‡πÄ‡∏£‡∏∑‡∏≠‡∏ô‡∏ó‡∏∏‡∏Å‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á</p>
                    </div>
                </div>

                <!-- Filter and Search -->
                <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
                    <div class="flex flex-col md:flex-row gap-4">
                        <div class="flex-1">
                            <input type="text" id="searchTransfer" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®..." class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                        </div>
                        <div>
                            <select id="filterTransferDepartment" class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                                <option value="">‡∏ó‡∏∏‡∏Å‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô</option>
                                <option value="‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ò‡∏¥‡∏Å‡∏≤‡∏£">‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ò‡∏¥‡∏Å‡∏≤‡∏£</option>
                                <option value="‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏°‡∏´‡∏≤‡∏î‡πÑ‡∏ó‡∏¢">‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏°‡∏´‡∏≤‡∏î‡πÑ‡∏ó‡∏¢</option>
                                <option value="‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏™‡∏∏‡∏Ç">‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏™‡∏∏‡∏Ç</option>
                                <option value="‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏±‡∏á">‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏±‡∏á</option>
                            </select>
                        </div>
                        <div>
                            <select id="filterTransferStatus" class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                                <option value="">‡∏ó‡∏∏‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</option>
                                <option value="open">‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£</option>
                                <option value="closing">‡πÉ‡∏Å‡∏•‡πâ‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£</option>
                                <option value="closed">‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Transfer List -->
                <div id="transferList" class="space-y-6">
                    <!-- Transfer items will be populated here -->
                </div>
            </div>
        </div>

        <!-- Agency Portal Page -->
        <div id="agencyPortalPage" class="page-content hidden">
            <div class="max-w-4xl mx-auto">
                <div class="bg-white rounded-xl shadow-lg p-8">
                    <div class="flex items-center mb-8">
                        <button id="backToAgencies" class="mr-4 p-2 text-gray-600 hover:text-blue-600 transition-colors">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                            </svg>
                        </button>
                        <div class="flex items-center">
                            <div id="agencyLogo" class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mr-4">
                                <!-- Logo will be inserted here -->
                            </div>
                            <div>
                                <h2 id="agencyName" class="text-2xl font-bold text-gray-800">‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ò‡∏¥‡∏Å‡∏≤‡∏£</h2>
                                <p class="text-gray-600">‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πà‡∏≤‡∏ß‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢</p>
                            </div>
                        </div>
                    </div>

                    <!-- Agency Login -->
                    <div id="agencyLogin">
                        <h3 class="text-xl font-semibold text-gray-800 mb-6">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</label>
                                    <input type="text" id="agencyUsername" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" placeholder="username">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</label>
                                    <input type="password" id="agencyPassword" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" placeholder="password">
                                </div>
                                <button id="agencyLoginBtn" class="w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
                            </div>
                            <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                                <h4 class="font-semibold text-yellow-800 mb-2">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö</h4>
                                <p class="text-sm text-yellow-700 mb-2"><strong>‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ:</strong> agency</p>
                                <p class="text-sm text-yellow-700 mb-4"><strong>‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô:</strong> password</p>
                                <div class="text-xs text-yellow-600">
                                    <p>‚Ä¢ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πà‡∏≤‡∏ß‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢</p>
                                    <p>‚Ä¢ ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®</p>
                                    <p>‚Ä¢ ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Agency Dashboard -->
                    <div id="agencyDashboard" class="hidden">
                        <div class="flex justify-between items-center mb-8">
                            <h3 class="text-xl font-semibold text-gray-800">‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô</h3>
                            <button id="agencyLogoutBtn" class="bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
                        </div>

                        <!-- Agency News Form -->
                        <div class="bg-gray-50 rounded-lg p-6 mb-8">
                            <h4 class="text-lg font-semibold text-gray-800 mb-4">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πà‡∏≤‡∏ß‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢</h4>
                            <form id="agencyNewsForm" class="space-y-6">
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®</label>
                                        <input type="text" id="agencyNewsTitle" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏≠‡∏±‡∏ï‡∏£‡∏≤</label>
                                        <input type="number" id="agencyPositions" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                                    </div>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®</label>
                                    <textarea id="agencyNewsContent" rows="4" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required></textarea>
                                </div>
                                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡∏°‡∏±‡∏Ñ‡∏£</label>
                                        <input type="date" id="agencyStartDate" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î‡∏™‡∏°‡∏±‡∏Ñ‡∏£</label>
                                        <input type="date" id="agencyEndDate" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">‡πÑ‡∏ü‡∏•‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏® (PDF)</label>
                                        <input type="file" id="agencyFile" accept=".pdf" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                                    </div>
                                </div>
                                <button type="submit" class="bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors">‡πÄ‡∏ú‡∏¢‡πÅ‡∏û‡∏£‡πà‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®</button>
                            </form>
                        </div>

                        <!-- Agency News List -->
                        <div>
                            <h4 class="text-lg font-semibold text-gray-800 mb-4">‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏Ç‡∏≠‡∏á‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô</h4>
                            <div id="agencyNewsList" class="space-y-4">
                                <!-- Agency news will be populated here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Admin Page -->
        <div id="adminPage" class="page-content hidden">
            <!-- Admin Login -->
            <div id="adminLogin" class="max-w-md mx-auto bg-white rounded-xl shadow-lg p-8">
                <div class="text-center mb-6">
                    <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <svg class="w-8 h-8 text-blue-600" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4 6h-3V6c0-.55-.45-1-1-1s-1 .45-1 1v2H8c-.55 0-1 .45-1 1s.45 1 1 1h3v2c0 .55.45 1 1 1s1-.45 1-1v-2h3c.55 0 1-.45 1-1s-.45-1-1-1z"/>
                        </svg>
                    </div>
                    <h2 class="text-2xl font-bold text-gray-800 mb-2">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô</h2>
                    <p class="text-gray-600">‡πÉ‡∏ä‡πâ Firebase Authentication</p>
                </div>

                <!-- Firebase Auth Methods -->
                <div class="space-y-4">
                    <!-- Email/Password Login -->
                    <div id="emailLoginForm">
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">‡∏≠‡∏µ‡πÄ‡∏°‡∏•</label>
                                <input type="email" id="adminEmail" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" placeholder="admin@example.com">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</label>
                                <input type="password" id="adminPassword" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô">
                            </div>
                            <button id="emailLoginBtn" class="w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center">
                                <span id="emailLoginText">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏î‡πâ‡∏ß‡∏¢‡∏≠‡∏µ‡πÄ‡∏°‡∏•</span>
                                <div id="emailLoginSpinner" class="loading-spinner ml-2 hidden"></div>
                            </button>
                        </div>
                    </div>

                    <div class="relative">
                        <div class="absolute inset-0 flex items-center">
                            <div class="w-full border-t border-gray-300"></div>
                        </div>
                        <div class="relative flex justify-center text-sm">
                            <span class="px-2 bg-white text-gray-500">‡∏´‡∏£‡∏∑‡∏≠</span>
                        </div>
                    </div>

                    <!-- Google Sign In -->
                    <button id="googleSignInBtn" class="w-full bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" viewBox="0 0 24 24">
                            <path fill="currentColor" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                            <path fill="currentColor" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                            <path fill="currentColor" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                            <path fill="currentColor" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                        </svg>
                        <span id="googleSignInText">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏î‡πâ‡∏ß‡∏¢ Google</span>
                        <div id="googleSignInSpinner" class="loading-spinner ml-2 hidden"></div>
                    </button>

                    <!-- Anonymous Sign In -->
                    <button id="anonymousSignInBtn" class="w-full bg-gray-600 text-white py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"/>
                        </svg>
                        <span id="anonymousSignInText">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏ö‡∏ö‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏ï‡∏±‡∏ß‡∏ï‡∏ô</span>
                        <div id="anonymousSignInSpinner" class="loading-spinner ml-2 hidden"></div>
                    </button>
                </div>

                <!-- Demo Info -->
                <div class="mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg">
                    <h4 class="font-semibold text-blue-800 mb-2">üî• Firebase Authentication</h4>
                    <div class="text-sm text-blue-700 space-y-1">
                        <p><strong>‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ó‡∏î‡∏™‡∏≠‡∏ö:</strong> admin@test.com</p>
                        <p><strong>‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô:</strong> password123</p>
                        <p class="text-xs mt-2">‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ Google Sign-in ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡πÅ‡∏ö‡∏ö‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏ï‡∏±‡∏ß‡∏ï‡∏ô</p>
                    </div>
                </div>

                <!-- Create Account -->
                <div class="mt-4 text-center">
                    <button id="showCreateAccount" class="text-blue-600 hover:text-blue-800 text-sm">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡πÉ‡∏´‡∏°‡πà</button>
                </div>

                <!-- Create Account Form -->
                <div id="createAccountForm" class="hidden mt-4 p-4 bg-gray-50 rounded-lg">
                    <h4 class="font-semibold text-gray-800 mb-3">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡πÉ‡∏´‡∏°‡πà</h4>
                    <div class="space-y-3">
                        <input type="email" id="newAdminEmail" class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm" placeholder="‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÉ‡∏´‡∏°‡πà">
                        <input type="password" id="newAdminPassword" class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô (‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 6 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£)">
                        <div class="flex space-x-2">
                            <button id="createAccountBtn" class="flex-1 bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors text-sm">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏±‡∏ç‡∏ä‡∏µ</button>
                            <button id="cancelCreateAccount" class="flex-1 bg-gray-400 text-white py-2 rounded-lg hover:bg-gray-500 transition-colors text-sm">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Admin Dashboard -->
            <div id="adminDashboard" class="hidden">
                <div class="flex justify-between items-center mb-8">
                    <div>
                        <h2 class="text-3xl font-bold text-gray-800">‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô</h2>
                        <p class="text-gray-600 mt-1">‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö <span id="adminDisplayName" class="font-semibold"></span></p>
                    </div>
                    <button id="logoutBtn" class="bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
                </div>

                <!-- Admin Tabs -->
                <div class="bg-white rounded-xl shadow-lg">
                    <div class="border-b border-gray-200">
                        <nav class="flex space-x-8 px-6">
                            <button class="admin-tab active py-4 px-2 border-b-2 border-blue-500 text-blue-600 font-medium" data-tab="manage-news">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πà‡∏≤‡∏ß</button>
                            <button class="admin-tab py-4 px-2 border-b-2 border-transparent text-gray-500 hover:text-gray-700" data-tab="add-news">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πà‡∏≤‡∏ß‡πÉ‡∏´‡∏°‡πà</button>
                            <button class="admin-tab py-4 px-2 border-b-2 border-transparent text-gray-500 hover:text-gray-700" data-tab="statistics">‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥</button>
                            <button class="admin-tab py-4 px-2 border-b-2 border-transparent text-gray-500 hover:text-gray-700" data-tab="firebase-info">Firebase Info</button>
                        </nav>
                    </div>

                    <div class="p-6">
                        <!-- Manage News Tab -->
                        <div id="manage-news" class="admin-tab-content">
                            <h3 class="text-xl font-semibold text-gray-800 mb-4">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πà‡∏≤‡∏ß‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢</h3>
                            <div id="adminNewsTable" class="overflow-x-auto">
                                <table class="min-w-full divide-y divide-gray-200">
                                    <thead class="bg-gray-50">
                                        <tr>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
                                        </tr>
                                    </thead>
                                    <tbody id="newsTableBody" class="bg-white divide-y divide-gray-200">
                                        <!-- Table rows will be populated here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Add News Tab -->
                        <div id="add-news" class="admin-tab-content hidden">
                            <h3 class="text-xl font-semibold text-gray-800 mb-4">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πà‡∏≤‡∏ß‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡πÉ‡∏´‡∏°‡πà</h3>
                            <form id="addNewsForm" class="space-y-6">
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏Ç‡πà‡∏≤‡∏ß</label>
                                        <input type="text" id="newsTitle" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô</label>
                                        <select id="newsDepartment" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                                            <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô</option>
                                            <option value="‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ò‡∏¥‡∏Å‡∏≤‡∏£">‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ò‡∏¥‡∏Å‡∏≤‡∏£</option>
                                            <option value="‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏°‡∏´‡∏≤‡∏î‡πÑ‡∏ó‡∏¢">‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏°‡∏´‡∏≤‡∏î‡πÑ‡∏ó‡∏¢</option>
                                            <option value="‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏™‡∏∏‡∏Ç">‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏™‡∏∏‡∏Ç</option>
                                        </select>
                                    </div>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏Ç‡πà‡∏≤‡∏ß</label>
                                    <textarea id="newsContent" rows="6" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required></textarea>
                                </div>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®</label>
                                        <input type="date" id="newsDate" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</label>
                                        <select id="newsStatus" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                                            <option value="active">‡πÄ‡∏ú‡∏¢‡πÅ‡∏û‡∏£‡πà</option>
                                            <option value="draft">‡πÅ‡∏ö‡∏ö‡∏£‡πà‡∏≤‡∏á</option>
                                        </select>
                                    </div>
                                </div>
                                <button type="submit" class="bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πà‡∏≤‡∏ß</button>
                            </form>
                        </div>

                        <!-- Statistics Tab -->
                        <div id="statistics" class="admin-tab-content hidden">
                            <h3 class="text-xl font-semibold text-gray-800 mb-4">‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                                <div class="bg-blue-50 rounded-lg p-6">
                                    <h4 class="text-lg font-medium text-blue-800">‡∏Ç‡πà‡∏≤‡∏ß‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h4>
                                    <p class="text-3xl font-bold text-blue-600" id="totalNewsStats">12</p>
                                </div>
                                <div class="bg-green-50 rounded-lg p-6">
                                    <h4 class="text-lg font-medium text-green-800">‡∏Ç‡πà‡∏≤‡∏ß‡πÄ‡∏ú‡∏¢‡πÅ‡∏û‡∏£‡πà</h4>
                                    <p class="text-3xl font-bold text-green-600" id="publishedNewsStats">10</p>
                                </div>
                                <div class="bg-yellow-50 rounded-lg p-6">
                                    <h4 class="text-lg font-medium text-yellow-800">‡πÅ‡∏ö‡∏ö‡∏£‡πà‡∏≤‡∏á</h4>
                                    <p class="text-3xl font-bold text-yellow-600" id="draftNewsStats">2</p>
                                </div>
                                <div class="bg-purple-50 rounded-lg p-6">
                                    <h4 class="text-lg font-medium text-purple-800">‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ä‡∏°</h4>
                                    <p class="text-3xl font-bold text-purple-600">2,847</p>
                                </div>
                            </div>
                        </div>

                        <!-- Firebase Info Tab -->
                        <div id="firebase-info" class="admin-tab-content hidden">
                            <h3 class="text-xl font-semibold text-gray-800 mb-4">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Firebase</h3>
                            <div class="bg-gray-50 rounded-lg p-6">
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div>
                                        <h4 class="font-semibold text-gray-800 mb-3">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</h4>
                                        <div id="currentUserInfo" class="space-y-2 text-sm">
                                            <!-- User info will be populated here -->
                                        </div>
                                    </div>
                                    <div>
                                        <h4 class="font-semibold text-gray-800 mb-3">‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Firebase</h4>
                                        <div class="space-y-2 text-sm text-gray-600">
                                            <p><strong>Project ID:</strong> <span id="firebaseProjectId">demo-project</span></p>
                                            <p><strong>Auth Domain:</strong> <span id="firebaseAuthDomain">demo-project.firebaseapp.com</span></p>
                                            <p><strong>Database URL:</strong> <span id="firebaseDatabaseUrl">demo-project-default-rtdb.firebaseio.com</span></p>
                                            <p><strong>Auth Status:</strong> <span id="authStatus" class="text-green-600 font-semibold">‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÅ‡∏•‡πâ‡∏ß</span></p>
                                            <p><strong>Database Status:</strong> <span id="databaseStatus" class="text-green-600 font-semibold">‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÅ‡∏•‡πâ‡∏ß</span></p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="mt-6 pt-6 border-t border-gray-200">
                                    <h4 class="font-semibold text-gray-800 mb-3">‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ Firebase Realtime Database</h4>
                                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                        <div class="bg-blue-50 rounded-lg p-4">
                                            <div class="text-sm text-blue-600 mb-1">‡∏Ç‡πà‡∏≤‡∏ß‡πÉ‡∏ô Database</div>
                                            <div class="font-bold text-blue-800" id="firebaseNewsCount">0</div>
                                        </div>
                                        <div class="bg-green-50 rounded-lg p-4">
                                            <div class="text-sm text-green-600 mb-1">‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠</div>
                                            <div class="font-bold text-green-800" id="connectionStatus">Real-time</div>
                                        </div>
                                        <div class="bg-purple-50 rounded-lg p-4">
                                            <div class="text-sm text-purple-600 mb-1">‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</div>
                                            <div class="font-bold text-purple-800 text-xs" id="lastUpdate">-</div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="mt-6 pt-6 border-t border-gray-200">
                                    <h4 class="font-semibold text-gray-800 mb-3">‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö Database</h4>
                                    <div class="flex space-x-3">
                                        <button id="testDatabaseBtn" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors">
                                            ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠
                                        </button>
                                        <button id="refreshDataBtn" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors">
                                            ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8 mt-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div>
                    <div class="flex items-center mb-4">
                        <div class="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center mr-3">
                            <span class="text-white font-bold">üèõÔ∏è</span>
                        </div>
                        <h3 class="text-lg font-semibold">‡∏£‡∏∞‡∏ö‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£</h3>
                    </div>
                    <p class="text-gray-300 text-sm">
                        ‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡∏•‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£ ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏Å‡∏≤‡∏£‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà
                    </p>
                </div>
                
                <div>
                    <h4 class="text-lg font-semibold mb-4">‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å</h4>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#" onclick="showPage('home')" class="text-gray-300 hover:text-white transition-colors">‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a></li>
                        <li><a href="#" onclick="showPage('news')" class="text-gray-300 hover:text-white transition-colors">‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</a></li>
                        <li><a href="#" onclick="showExamCategory('csc')" class="text-gray-300 hover:text-white transition-colors">‡∏á‡∏≤‡∏ô‡∏™‡∏≠‡∏ö‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£</a></li>
                        <li><a href="#" onclick="openTransferCategory('civil')" class="text-gray-300 hover:text-white transition-colors">‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢</a></li>
                        <li><a href="#" onclick="showPostExam()" class="text-gray-300 hover:text-white transition-colors">‡∏•‡∏á‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="text-lg font-semibold mb-4">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤</h4>
                    <div class="space-y-2 text-sm text-gray-300">
                        <p>üìß info@transfer.go.th</p>
                        <p>üìû 02-123-4567</p>
                        <p>üè¢ ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£ 10400</p>
                    </div>
                </div>
            </div>
            
            <div class="border-t border-gray-700 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center">
                <p class="text-gray-400 text-sm">
                    ¬© 2024 ‡∏£‡∏∞‡∏ö‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£. ‡∏™‡∏á‡∏ß‡∏ô‡∏•‡∏¥‡∏Ç‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå.
                </p>
                
                <!-- Admin Access Button -->
                <div class="mt-4 md:mt-0">
                    <button id="adminBtn" class="nav-btn bg-gray-700 hover:bg-gray-600 text-gray-300 hover:text-white px-4 py-2 rounded-lg transition-colors text-sm border border-gray-600">
                        üîê ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô
                    </button>
                </div>
            </div>
        </div>
    </footer>

    <!-- Success Modal -->
    <div id="successModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-xl p-8 max-w-md mx-4 slide-in">
            <div class="text-center">
                <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                    <span class="text-2xl">‚úÖ</span>
                </div>
                <h3 class="text-xl font-semibold text-gray-800 mb-2">‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!</h3>
                <p id="successMessage" class="text-gray-600 mb-6">‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô</p>
                <button id="closeModal" class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors">‡∏ï‡∏Å‡∏•‡∏á</button>
            </div>
        </div>
    </div>

    <!-- Error Modal -->
    <div id="errorModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-xl p-8 max-w-md mx-4 slide-in">
            <div class="text-center">
                <div class="w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4">
                    <span class="text-2xl">‚ùå</span>
                </div>
                <h3 class="text-xl font-semibold text-gray-800 mb-2">‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î</h3>
                <p id="errorMessage" class="text-gray-600 mb-6">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</p>
                <button id="closeErrorModal" class="bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition-colors">‡∏ï‡∏Å‡∏•‡∏á</button>
            </div>
        </div>
    </div>

    <script>
        // Firebase Configuration (Demo - replace with your actual config)
        const firebaseConfig = {
            apiKey: "AIzaSyCs7dV8-B151tvnO2bgDlF0uwK_7R3mmmQ",
  authDomain: "thai-bf4f0.firebaseapp.com",
  projectId: "thai-bf4f0",
  storageBucket: "thai-bf4f0.firebasestorage.app",
  messagingSenderId: "953478240466",
  appId: "1:953478240466:web:a9d160b96ed569b14eb50b",
        };

        // Initialize Firebase
        let app, auth, database;
        try {
            app = firebase.initializeApp(firebaseConfig);
            auth = firebase.auth();
            database = firebase.database();
            console.log('Firebase initialized successfully');
            
            // Initialize database with sample data if empty
            initializeDatabase();
        } catch (error) {
            console.log('Firebase initialization failed (Demo mode):', error.message);
            // Fallback to demo mode
            auth = null;
            database = null;
        }

        // Firebase Database Functions
        async function initializeDatabase() {
            if (!database) return;
            
            try {
                // Check if data already exists
                const snapshot = await database.ref('news').once('value');
                if (!snapshot.exists()) {
                    // Initialize with sample data
                    const sampleData = {
                        1: {
                            id: 1,
                            title: "‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£ ‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ò‡∏¥‡∏Å‡∏≤‡∏£ ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà 1/2567",
                            department: "‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ò‡∏¥‡∏Å‡∏≤‡∏£",
                            content: "‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£‡πÉ‡∏ô‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ò‡∏¥‡∏Å‡∏≤‡∏£ ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô 150 ‡∏≠‡∏±‡∏ï‡∏£‡∏≤",
                            date: "2024-01-15",
                            startDate: "2024-02-01",
                            endDate: "2024-02-15",
                            positions: 150,
                            status: "active",
                            fileUrl: "sample-announcement-1.pdf",
                            fileName: "‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢_‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ò‡∏¥‡∏Å‡∏≤‡∏£_1-2567.pdf",
                            timestamp: Date.now()
                        },
                        2: {
                            id: 2,
                            title: "‡∏Å‡∏≤‡∏£‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£ ‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏°‡∏´‡∏≤‡∏î‡πÑ‡∏ó‡∏¢",
                            department: "‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏°‡∏´‡∏≤‡∏î‡πÑ‡∏ó‡∏¢",
                            content: "‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏Å‡∏≤‡∏£‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ô‡∏±‡∏Å‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡∏¥‡πà‡∏ô ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô 75 ‡∏≠‡∏±‡∏ï‡∏£‡∏≤",
                            date: "2024-01-10",
                            startDate: "2024-01-20",
                            endDate: "2024-02-05",
                            positions: 75,
                            status: "active",
                            fileUrl: "sample-announcement-2.pdf",
                            fileName: "‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢_‡∏°‡∏´‡∏≤‡∏î‡πÑ‡∏ó‡∏¢_1-2567.pdf",
                            timestamp: Date.now() - 86400000
                        },
                        3: {
                            id: 3,
                            title: "‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡∏ö‡∏∏‡∏Ñ‡∏•‡∏≤‡∏Å‡∏£‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡∏ó‡∏¢‡πå ‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏™‡∏∏‡∏Ç",
                            department: "‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏™‡∏∏‡∏Ç",
                            content: "‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡πÅ‡∏û‡∏ó‡∏¢‡πå‡πÅ‡∏•‡∏∞‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏ß‡∏¥‡∏ä‡∏≤‡∏ä‡∏µ‡∏û ‡πÑ‡∏õ‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏á‡∏≤‡∏ô‡πÉ‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏Ç‡∏≤‡∏î‡πÅ‡∏Ñ‡∏•‡∏ô",
                            date: "2024-01-08",
                            startDate: "2024-01-25",
                            endDate: "2024-02-10",
                            positions: 120,
                            status: "active",
                            fileUrl: "sample-announcement-3.pdf",
                            fileName: "‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢_‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏™‡∏∏‡∏Ç_1-2567.pdf",
                            timestamp: Date.now() - 172800000
                        }
                    };
                    
                    await database.ref('news').set(sampleData);
                    console.log('Sample data initialized in Firebase');
                }
                
                // Set up real-time listener
                setupNewsListener();
            } catch (error) {
                console.log('Database initialization failed (Demo mode):', error.message);
            }
        }

        // Real-time listener for news updates
        function setupNewsListener() {
            if (!database) return;
            
            let isFirstLoad = true;
            
            database.ref('news').on('value', (snapshot) => {
                const data = snapshot.val();
                if (data) {
                    const previousCount = newsData.length;
                    
                    // Convert Firebase object to array
                    newsData = Object.values(data).sort((a, b) => (b.timestamp || 0) - (a.timestamp || 0));
                    
                    // Show notification for new data (except first load)
                    if (!isFirstLoad && newsData.length > previousCount) {
                        showRealTimeNotification(`‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡πÉ‡∏´‡∏°‡πà ${newsData.length - previousCount} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£`);
                    }
                    
                    // Update UI if we're on relevant pages
                    if (currentPage === 'home') {
                        loadLatestNews();
                    } else if (currentPage === 'news') {
                        loadAllNews();
                    }
                    
                    // Update admin dashboard if logged in
                    if (currentUser && currentPage === 'admin') {
                        loadAdminNews();
                        updateStats();
                    }
                    
                    // Update Firebase status
                    updateFirebaseStatus();
                    
                    console.log('News data updated from Firebase:', newsData.length, 'items');
                    isFirstLoad = false;
                }
            });
        }

        function showRealTimeNotification(message) {
            // Create notification element
            const notification = document.createElement('div');
            notification.className = 'fixed top-4 right-4 bg-blue-600 text-white px-6 py-3 rounded-lg shadow-lg z-50 transform translate-x-full transition-transform duration-300';
            notification.innerHTML = `
                <div class="flex items-center space-x-2">
                    <span class="text-lg">üîî</span>
                    <span>${message}</span>
                    <button onclick="this.parentElement.parentElement.remove()" class="ml-2 text-white hover:text-gray-200">
                        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                        </svg>
                    </button>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            // Animate in
            setTimeout(() => {
                notification.classList.remove('translate-x-full');
            }, 100);
            
            // Auto remove after 5 seconds
            setTimeout(() => {
                notification.classList.add('translate-x-full');
                setTimeout(() => {
                    if (notification.parentElement) {
                        notification.remove();
                    }
                }, 300);
            }, 5000);
        }

        // Add news to Firebase
        async function addNewsToFirebase(newsItem) {
            if (!database) {
                // Fallback to local storage in demo mode
                newsData.unshift(newsItem);
                return newsItem;
            }
            
            try {
                const newsRef = database.ref('news').push();
                newsItem.id = newsRef.key;
                newsItem.timestamp = Date.now();
                
                await newsRef.set(newsItem);
                console.log('News added to Firebase:', newsItem.title);
                return newsItem;
            } catch (error) {
                console.error('Error adding news to Firebase:', error);
                // Fallback to local storage
                newsData.unshift(newsItem);
                return newsItem;
            }
        }

        // Update news in Firebase
        async function updateNewsInFirebase(newsId, updates) {
            if (!database) {
                // Fallback to local update
                const index = newsData.findIndex(n => n.id === newsId);
                if (index !== -1) {
                    newsData[index] = { ...newsData[index], ...updates };
                }
                return;
            }
            
            try {
                await database.ref(`news/${newsId}`).update({
                    ...updates,
                    lastModified: Date.now()
                });
                console.log('News updated in Firebase:', newsId);
            } catch (error) {
                console.error('Error updating news in Firebase:', error);
            }
        }

        // Delete news from Firebase
        async function deleteNewsFromFirebase(newsId) {
            if (!database) {
                // Fallback to local delete
                newsData = newsData.filter(n => n.id !== newsId);
                return;
            }
            
            try {
                await database.ref(`news/${newsId}`).remove();
                console.log('News deleted from Firebase:', newsId);
            } catch (error) {
                console.error('Error deleting news from Firebase:', error);
            }
        }

        // Local fallback data
        let newsData = [];

        let currentAgency = null;
        let agencyNewsData = [];
        let currentUser = null;
        let currentPage = 'home';

        // Sample exam data
        let examData = {
            csc: [
                {
                    id: 1,
                    title: "‡∏ô‡∏±‡∏Å‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤",
                    department: "‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ò‡∏¥‡∏Å‡∏≤‡∏£",
                    level: "‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡∏ï‡∏£‡∏µ",
                    positions: 25,
                    applicants: 850,
                    examDate: "2024-03-15",
                    applicationStart: "2024-02-01",
                    applicationEnd: "2024-02-20",
                    status: "open",
                    salary: "15,000 - 25,000",
                    location: "‡∏ó‡∏±‡πà‡∏ß‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®",
                    description: "‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏á‡∏≤‡∏ô‡∏î‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£ ‡πÅ‡∏•‡∏∞‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô"
                },
                {
                    id: 2,
                    title: "‡∏ô‡∏±‡∏Å‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏±‡∏á",
                    department: "‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏±‡∏á",
                    level: "‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡∏ï‡∏£‡∏µ",
                    positions: 15,
                    applicants: 420,
                    examDate: "2024-03-22",
                    applicationStart: "2024-01-15",
                    applicationEnd: "2024-02-05",
                    status: "closed",
                    salary: "15,000 - 28,000",
                    location: "‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø ‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏¥‡∏°‡∏ì‡∏ë‡∏•",
                    description: "‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì ‡∏à‡∏±‡∏î‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢"
                },
                {
                    id: 3,
                    title: "‡πÅ‡∏û‡∏ó‡∏¢‡πå",
                    department: "‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏™‡∏∏‡∏Ç",
                    level: "‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡πÄ‡∏≠‡∏Å",
                    positions: 30,
                    applicants: 180,
                    examDate: "2024-04-10",
                    applicationStart: "2024-02-15",
                    applicationEnd: "2024-03-05",
                    status: "testing",
                    salary: "35,000 - 55,000",
                    location: "‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏ó‡∏±‡πà‡∏ß‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®",
                    description: "‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏• ‡∏ï‡∏£‡∏ß‡∏à‡∏ß‡∏¥‡∏ô‡∏¥‡∏à‡∏â‡∏±‡∏¢‡πÇ‡∏£‡∏Ñ ‡πÅ‡∏•‡∏∞‡∏î‡∏π‡πÅ‡∏•‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô"
                }
            ],
            'non-csc': [
                {
                    id: 4,
                    title: "‡∏Ñ‡∏£‡∏π‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢",
                    department: "‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ò‡∏¥‡∏Å‡∏≤‡∏£",
                    level: "‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡∏ï‡∏£‡∏µ",
                    positions: 45,
                    applicants: 1250,
                    examDate: "2024-03-08",
                    applicationStart: "2024-01-20",
                    applicationEnd: "2024-02-10",
                    status: "announced",
                    salary: "15,000 - 20,000",
                    location: "‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÉ‡∏ô‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î ‡∏™‡∏û‡∏ê.",
                    description: "‡∏™‡∏≠‡∏ô‡πÉ‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÅ‡∏•‡∏∞‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤ ‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏Ç‡∏≠‡∏á‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô"
                },
                {
                    id: 5,
                    title: "‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡∏¥‡πà‡∏ô",
                    department: "‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏°‡∏´‡∏≤‡∏î‡πÑ‡∏ó‡∏¢",
                    level: "‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡∏ï‡∏£‡∏µ",
                    positions: 20,
                    applicants: 680,
                    examDate: "2024-03-25",
                    applicationStart: "2024-02-10",
                    applicationEnd: "2024-02-28",
                    status: "open",
                    salary: "15,000 - 22,000",
                    location: "‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡∏õ‡∏Å‡∏Ñ‡∏£‡∏≠‡∏á‡∏™‡πà‡∏ß‡∏ô‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡∏¥‡πà‡∏ô",
                    description: "‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡∏¥‡πà‡∏ô ‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ô‡∏á‡∏≤‡∏ô‡∏Å‡∏±‡∏ö‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≤‡∏á‡πÜ"
                },
                {
                    id: 6,
                    title: "‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏ß‡∏¥‡∏ä‡∏≤‡∏ä‡∏µ‡∏û",
                    department: "‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏™‡∏∏‡∏Ç",
                    level: "‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡∏ï‡∏£‡∏µ",
                    positions: 35,
                    applicants: 520,
                    examDate: "2024-04-05",
                    applicationStart: "2024-02-20",
                    applicationEnd: "2024-03-10",
                    status: "open",
                    salary: "18,000 - 30,000",
                    location: "‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡πÅ‡∏•‡∏∞‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏≠‡∏ô‡∏≤‡∏°‡∏±‡∏¢",
                    description: "‡∏î‡∏π‡πÅ‡∏•‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢ ‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏• ‡πÅ‡∏•‡∏∞‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏Å‡∏©‡∏≤"
                }
            ]
        };

        let currentExamCategory = null;
        let currentTransferCategory = null;

        // Sample transfer data by category
        let transferData = {
            civil: [
                {
                    id: 1,
                    title: "‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡∏ô‡∏±‡∏Å‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤",
                    department: "‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ò‡∏¥‡∏Å‡∏≤‡∏£",
                    positions: 25,
                    location: "‡∏ó‡∏±‡πà‡∏ß‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®",
                    applicationStart: "2024-02-01",
                    applicationEnd: "2024-02-20",
                    salary: "15,000 - 25,000",
                    requirements: "‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡∏ï‡∏£‡∏µ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ ‡∏≠‡∏≤‡∏¢‡∏∏‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 35 ‡∏õ‡∏µ",
                    description: "‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡∏ô‡∏±‡∏Å‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏á‡∏≤‡∏ô‡πÉ‡∏ô‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÄ‡∏Ç‡∏ï‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤",
                    status: "open"
                },
                {
                    id: 2,
                    title: "‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡∏ô‡∏±‡∏Å‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏±‡∏á",
                    department: "‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏±‡∏á",
                    positions: 15,
                    location: "‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø ‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏¥‡∏°‡∏ì‡∏ë‡∏•",
                    applicationStart: "2024-01-15",
                    applicationEnd: "2024-02-05",
                    salary: "18,000 - 30,000",
                    requirements: "‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡∏ï‡∏£‡∏µ‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ç‡∏ä‡∏µ ‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå ‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏≤‡∏Ç‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á",
                    description: "‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡∏ô‡∏±‡∏Å‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏±‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏á‡∏≤‡∏ô‡∏î‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏•‡∏∞‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì",
                    status: "closed"
                }
            ],
            local: [
                {
                    id: 3,
                    title: "‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡∏ô‡∏±‡∏Å‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡∏¥‡πà‡∏ô",
                    department: "‡πÄ‡∏ó‡∏®‡∏ö‡∏≤‡∏•‡∏ô‡∏Ñ‡∏£‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà",
                    positions: 8,
                    location: "‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà",
                    applicationStart: "2024-02-10",
                    applicationEnd: "2024-02-28",
                    salary: "15,000 - 22,000",
                    requirements: "‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡∏ï‡∏£‡∏µ‡∏£‡∏±‡∏ê‡∏õ‡∏£‡∏∞‡∏®‡∏≤‡∏™‡∏ô‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå ‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏≤‡∏Ç‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á",
                    description: "‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡∏¥‡πà‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏á‡∏≤‡∏ô‡∏î‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£",
                    status: "open"
                },
                {
                    id: 4,
                    title: "‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡∏ß‡∏¥‡∏®‡∏ß‡∏Å‡∏£‡πÇ‡∏¢‡∏ò‡∏≤",
                    department: "‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏™‡πà‡∏ß‡∏ô‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô",
                    positions: 5,
                    location: "‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô",
                    applicationStart: "2024-02-05",
                    applicationEnd: "2024-02-25",
                    salary: "20,000 - 35,000",
                    requirements: "‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡∏ï‡∏£‡∏µ‡∏ß‡∏¥‡∏®‡∏ß‡∏Å‡∏£‡∏£‡∏°‡πÇ‡∏¢‡∏ò‡∏≤ ‡∏°‡∏µ‡πÉ‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏ß‡∏¥‡∏ä‡∏≤‡∏ä‡∏µ‡∏û",
                    description: "‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡∏ß‡∏¥‡∏®‡∏ß‡∏Å‡∏£‡πÇ‡∏¢‡∏ò‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡πÅ‡∏•‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡∏Å‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô",
                    status: "open"
                }
            ],
            independent: [
                {
                    id: 5,
                    title: "‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡∏ô‡∏±‡∏Å‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏ú‡πà‡∏ô‡∏î‡∏¥‡∏ô",
                    department: "‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏ú‡πà‡∏ô‡∏î‡∏¥‡∏ô",
                    positions: 12,
                    location: "‡∏ó‡∏±‡πà‡∏ß‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®",
                    applicationStart: "2024-02-15",
                    applicationEnd: "2024-03-05",
                    salary: "18,000 - 28,000",
                    requirements: "‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡∏ï‡∏£‡∏µ‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ç‡∏ä‡∏µ ‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô ‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏≤‡∏Ç‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á",
                    description: "‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡∏ô‡∏±‡∏Å‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏á‡∏≤‡∏ô‡∏î‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏±‡∏á",
                    status: "open"
                }
            ],
            others: [
                {
                    id: 6,
                    title: "‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡∏ß‡∏¥‡∏®‡∏ß‡∏Å‡∏£‡πÑ‡∏ü‡∏ü‡πâ‡∏≤",
                    department: "‡∏Å‡∏≤‡∏£‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏ù‡πà‡∏≤‡∏¢‡∏ú‡∏•‡∏¥‡∏ï‡πÅ‡∏´‡πà‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢",
                    positions: 10,
                    location: "‡∏ó‡∏±‡πà‡∏ß‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®",
                    applicationStart: "2024-02-20",
                    applicationEnd: "2024-03-10",
                    salary: "25,000 - 45,000",
                    requirements: "‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡∏ï‡∏£‡∏µ‡∏ß‡∏¥‡∏®‡∏ß‡∏Å‡∏£‡∏£‡∏°‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ ‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå 2 ‡∏õ‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ",
                    description: "‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡∏ß‡∏¥‡∏®‡∏ß‡∏Å‡∏£‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏á‡∏≤‡∏ô‡∏î‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï‡πÅ‡∏•‡∏∞‡∏à‡∏≥‡∏´‡∏ô‡πà‡∏≤‡∏¢‡πÑ‡∏ü‡∏ü‡πâ‡∏≤",
                    status: "open"
                }
            ]
        };

        // Navigation
        document.getElementById('homeBtn').addEventListener('click', () => showPage('home'));
        document.getElementById('allNewsBtn').addEventListener('click', () => showPage('news'));
        document.getElementById('adminBtn').addEventListener('click', () => showPage('admin'));
        document.getElementById('viewAllNews').addEventListener('click', () => showPage('news'));
        
        // Post forms
        document.getElementById('postExamForm').addEventListener('submit', handlePostExam);
        document.getElementById('postTransferForm').addEventListener('submit', handlePostTransfer);

        // Exam portal
        document.getElementById('backToExam').addEventListener('click', () => showPage('exam'));
        document.getElementById('searchExam').addEventListener('input', filterExams);
        document.getElementById('filterExamDepartment').addEventListener('change', filterExams);
        document.getElementById('filterExamStatus').addEventListener('change', filterExams);

        // Transfer portal
        document.getElementById('backToTransfer').addEventListener('click', () => showPage('agency'));
        document.getElementById('searchTransfer').addEventListener('input', filterTransfers);
        document.getElementById('filterTransferDepartment').addEventListener('change', filterTransfers);
        document.getElementById('filterTransferStatus').addEventListener('change', filterTransfers);

        // Agency portal
        document.getElementById('backToAgencies').addEventListener('click', () => showPage('agency'));
        document.getElementById('agencyLoginBtn').addEventListener('click', handleAgencyLogin);
        document.getElementById('agencyLogoutBtn').addEventListener('click', handleAgencyLogout);
        document.getElementById('agencyNewsForm').addEventListener('submit', handleAgencyNewsSubmit);

        // Firebase Auth event listeners
        document.getElementById('emailLoginBtn').addEventListener('click', handleEmailLogin);
        document.getElementById('googleSignInBtn').addEventListener('click', handleGoogleSignIn);
        document.getElementById('anonymousSignInBtn').addEventListener('click', handleAnonymousSignIn);
        document.getElementById('logoutBtn').addEventListener('click', handleLogout);
        document.getElementById('signOutBtn').addEventListener('click', handleLogout);

        // Create account
        document.getElementById('showCreateAccount').addEventListener('click', () => {
            document.getElementById('createAccountForm').classList.toggle('hidden');
        });
        document.getElementById('cancelCreateAccount').addEventListener('click', () => {
            document.getElementById('createAccountForm').classList.add('hidden');
        });
        document.getElementById('createAccountBtn').addEventListener('click', handleCreateAccount);

        // Admin tabs
        document.querySelectorAll('.admin-tab').forEach(tab => {
            tab.addEventListener('click', (e) => {
                const tabName = e.target.dataset.tab;
                showAdminTab(tabName);
            });
        });

        // Add news form
        document.getElementById('addNewsForm').addEventListener('submit', handleAddNews);

        // Firebase test buttons
        document.getElementById('testDatabaseBtn').addEventListener('click', testDatabaseConnection);
        document.getElementById('refreshDataBtn').addEventListener('click', refreshDatabaseData);

        // Search and filter
        document.getElementById('searchNews').addEventListener('input', filterNews);
        document.getElementById('filterDepartment').addEventListener('change', filterNews);

        // Modals
        document.getElementById('closeModal').addEventListener('click', () => {
            document.getElementById('successModal').classList.add('hidden');
        });
        document.getElementById('closeErrorModal').addEventListener('click', () => {
            document.getElementById('errorModal').classList.add('hidden');
        });

        // Firebase Auth State Observer
        if (auth) {
            auth.onAuthStateChanged((user) => {
                if (user) {
                    currentUser = user;
                    updateUserInterface(user);
                    if (currentPage === 'admin') {
                        showAdminDashboard();
                    }
                } else {
                    currentUser = null;
                    updateUserInterface(null);
                    if (currentPage === 'admin') {
                        showAdminLogin();
                    }
                }
            });
        }

        // Firebase Authentication Functions
        async function handleEmailLogin() {
            if (!auth) {
                showError('Firebase ‡πÑ‡∏°‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô - ‡πÉ‡∏ä‡πâ‡πÇ‡∏´‡∏°‡∏î‡∏ó‡∏î‡∏™‡∏≠‡∏ö');
                handleDemoLogin();
                return;
            }

            const email = document.getElementById('adminEmail').value;
            const password = document.getElementById('adminPassword').value;

            if (!email || !password) {
                showError('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÅ‡∏•‡∏∞‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô');
                return;
            }

            setLoadingState('emailLogin', true);

            try {
                const userCredential = await auth.signInWithEmailAndPassword(email, password);
                showSuccess('‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!');
            } catch (error) {
                console.error('Login error:', error);
                showError(getFirebaseErrorMessage(error.code));
            } finally {
                setLoadingState('emailLogin', false);
            }
        }

        async function handleGoogleSignIn() {
            if (!auth) {
                showError('Firebase ‡πÑ‡∏°‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô - ‡πÉ‡∏ä‡πâ‡πÇ‡∏´‡∏°‡∏î‡∏ó‡∏î‡∏™‡∏≠‡∏ö');
                handleDemoLogin();
                return;
            }

            setLoadingState('googleSignIn', true);

            try {
                const provider = new firebase.auth.GoogleAuthProvider();
                const result = await auth.signInWithPopup(provider);
                showSuccess('‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏î‡πâ‡∏ß‡∏¢ Google ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!');
            } catch (error) {
                console.error('Google sign-in error:', error);
                showError(getFirebaseErrorMessage(error.code));
            } finally {
                setLoadingState('googleSignIn', false);
            }
        }

        async function handleAnonymousSignIn() {
            if (!auth) {
                showError('Firebase ‡πÑ‡∏°‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô - ‡πÉ‡∏ä‡πâ‡πÇ‡∏´‡∏°‡∏î‡∏ó‡∏î‡∏™‡∏≠‡∏ö');
                handleDemoLogin();
                return;
            }

            setLoadingState('anonymousSignIn', true);

            try {
                const userCredential = await auth.signInAnonymously();
                showSuccess('‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏ö‡∏ö‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏ï‡∏±‡∏ß‡∏ï‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!');
            } catch (error) {
                console.error('Anonymous sign-in error:', error);
                showError(getFirebaseErrorMessage(error.code));
            } finally {
                setLoadingState('anonymousSignIn', false);
            }
        }

        async function handleCreateAccount() {
            if (!auth) {
                showError('Firebase ‡πÑ‡∏°‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô');
                return;
            }

            const email = document.getElementById('newAdminEmail').value;
            const password = document.getElementById('newAdminPassword').value;

            if (!email || !password) {
                showError('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÅ‡∏•‡∏∞‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô');
                return;
            }

            if (password.length < 6) {
                showError('‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 6 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£');
                return;
            }

            try {
                const userCredential = await auth.createUserWithEmailAndPassword(email, password);
                showSuccess('‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!');
                document.getElementById('createAccountForm').classList.add('hidden');
                document.getElementById('newAdminEmail').value = '';
                document.getElementById('newAdminPassword').value = '';
            } catch (error) {
                console.error('Create account error:', error);
                showError(getFirebaseErrorMessage(error.code));
            }
        }

        async function handleLogout() {
            if (auth && currentUser) {
                try {
                    await auth.signOut();
                    showSuccess('‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');
                } catch (error) {
                    console.error('Logout error:', error);
                    showError('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö');
                }
            } else {
                // Demo mode logout
                currentUser = null;
                updateUserInterface(null);
                showAdminLogin();
                showSuccess('‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');
            }
        }

        // Demo login fallback
        function handleDemoLogin() {
            const email = document.getElementById('adminEmail').value;
            const password = document.getElementById('adminPassword').value;
            
            if ((email === 'admin@test.com' && password === 'password123') || 
                (email === 'admin' && password === 'password')) {
                currentUser = { 
                    email: email, 
                    displayName: 'Admin (Demo)',
                    uid: 'demo-uid',
                    isAnonymous: false
                };
                updateUserInterface(currentUser);
                showAdminDashboard();
                showSuccess('‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à (‡πÇ‡∏´‡∏°‡∏î‡∏ó‡∏î‡∏™‡∏≠‡∏ö)');
            } else {
                showError('‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á');
            }
        }

        function updateUserInterface(user) {
            const userInfo = document.getElementById('userInfo');
            const userEmail = document.getElementById('userEmail');
            const adminDisplayName = document.getElementById('adminDisplayName');

            if (user) {
                const displayName = user.displayName || user.email || '‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏ï‡∏±‡∏ß‡∏ï‡∏ô';
                userEmail.textContent = user.email || '‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏≠‡∏µ‡πÄ‡∏°‡∏•';
                adminDisplayName.textContent = displayName;
                userInfo.classList.remove('hidden');
                
                // Update Firebase info tab
                updateFirebaseInfo(user);
            } else {
                userInfo.classList.add('hidden');
                adminDisplayName.textContent = '';
            }
        }

        function updateFirebaseInfo(user) {
            const currentUserInfo = document.getElementById('currentUserInfo');
            if (currentUserInfo && user) {
                currentUserInfo.innerHTML = `
                    <p><strong>UID:</strong> ${user.uid}</p>
                    <p><strong>‡∏≠‡∏µ‡πÄ‡∏°‡∏•:</strong> ${user.email || '‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏'}</p>
                    <p><strong>‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏™‡∏î‡∏á:</strong> ${user.displayName || '‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏'}</p>
                    <p><strong>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó:</strong> ${user.isAnonymous ? '‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏ï‡∏±‡∏ß‡∏ï‡∏ô' : '‡∏£‡∏∞‡∏ö‡∏∏‡∏ï‡∏±‡∏ß‡∏ï‡∏ô'}</p>
                    <p><strong>‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î:</strong> ${user.metadata?.lastSignInTime || '‡πÑ‡∏°‡πà‡∏ó‡∏£‡∏≤‡∏ö'}</p>
                    <p><strong>‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏±‡∏ç‡∏ä‡∏µ:</strong> ${user.metadata?.creationTime || '‡πÑ‡∏°‡πà‡∏ó‡∏£‡∏≤‡∏ö'}</p>
                `;
            }
            
            // Update Firebase status
            updateFirebaseStatus();
        }

        function updateFirebaseStatus() {
            // Update connection status
            const authStatus = document.getElementById('authStatus');
            const databaseStatus = document.getElementById('databaseStatus');
            const firebaseNewsCount = document.getElementById('firebaseNewsCount');
            const connectionStatus = document.getElementById('connectionStatus');
            const lastUpdate = document.getElementById('lastUpdate');
            
            if (auth) {
                authStatus.textContent = '‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÅ‡∏•‡πâ‡∏ß';
                authStatus.className = 'text-green-600 font-semibold';
            } else {
                authStatus.textContent = '‡πÑ‡∏°‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ (Demo Mode)';
                authStatus.className = 'text-yellow-600 font-semibold';
            }
            
            if (database) {
                databaseStatus.textContent = '‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÅ‡∏•‡πâ‡∏ß';
                databaseStatus.className = 'text-green-600 font-semibold';
                connectionStatus.textContent = 'Real-time';
            } else {
                databaseStatus.textContent = '‡πÑ‡∏°‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ (Demo Mode)';
                databaseStatus.className = 'text-yellow-600 font-semibold';
                connectionStatus.textContent = 'Local Only';
            }
            
            if (firebaseNewsCount) {
                firebaseNewsCount.textContent = newsData.length;
            }
            
            if (lastUpdate) {
                lastUpdate.textContent = new Date().toLocaleString('th-TH');
            }
        }

        async function testDatabaseConnection() {
            const testBtn = document.getElementById('testDatabaseBtn');
            const originalText = testBtn.textContent;
            
            testBtn.textContent = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏î‡∏™‡∏≠‡∏ö...';
            testBtn.disabled = true;
            
            try {
                if (!database) {
                    throw new Error('Database ‡πÑ‡∏°‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ - ‡πÉ‡∏ä‡πâ‡πÇ‡∏´‡∏°‡∏î‡∏ó‡∏î‡∏™‡∏≠‡∏ö');
                }
                
                // Test write
                const testRef = database.ref('test');
                await testRef.set({
                    message: 'Test connection',
                    timestamp: Date.now()
                });
                
                // Test read
                const snapshot = await testRef.once('value');
                const data = snapshot.val();
                
                // Clean up test data
                await testRef.remove();
                
                if (data && data.message === 'Test connection') {
                    showSuccess('‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ Firebase Realtime Database ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!');
                } else {
                    throw new Error('‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á');
                }
                
            } catch (error) {
                console.error('Database test failed:', error);
                showError(`‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö Database ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß: ${error.message}`);
            } finally {
                testBtn.textContent = originalText;
                testBtn.disabled = false;
            }
        }

        async function refreshDatabaseData() {
            const refreshBtn = document.getElementById('refreshDataBtn');
            const originalText = refreshBtn.textContent;
            
            refreshBtn.textContent = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä...';
            refreshBtn.disabled = true;
            
            try {
                if (!database) {
                    throw new Error('Database ‡πÑ‡∏°‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠');
                }
                
                // Force refresh data from Firebase
                const snapshot = await database.ref('news').once('value');
                const data = snapshot.val();
                
                if (data) {
                    newsData = Object.values(data).sort((a, b) => (b.timestamp || 0) - (a.timestamp || 0));
                    
                    // Update UI
                    if (currentPage === 'home') {
                        loadLatestNews();
                    } else if (currentPage === 'news') {
                        loadAllNews();
                    }
                    
                    if (currentUser && currentPage === 'admin') {
                        loadAdminNews();
                        updateStats();
                    }
                    
                    updateFirebaseStatus();
                    showSuccess(`‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! ‡∏û‡∏ö‡∏Ç‡πà‡∏≤‡∏ß ${newsData.length} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£`);
                } else {
                    showError('‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô Database');
                }
                
            } catch (error) {
                console.error('Refresh failed:', error);
                showError(`‡∏Å‡∏≤‡∏£‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß: ${error.message}`);
            } finally {
                refreshBtn.textContent = originalText;
                refreshBtn.disabled = false;
            }
        }

        function setLoadingState(buttonType, loading) {
            const button = document.getElementById(`${buttonType}Btn`);
            const text = document.getElementById(`${buttonType}Text`);
            const spinner = document.getElementById(`${buttonType}Spinner`);

            if (loading) {
                button.disabled = true;
                button.classList.add('opacity-75', 'cursor-not-allowed');
                spinner.classList.remove('hidden');
                text.textContent = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö...';
            } else {
                button.disabled = false;
                button.classList.remove('opacity-75', 'cursor-not-allowed');
                spinner.classList.add('hidden');
                
                // Reset text based on button type
                switch(buttonType) {
                    case 'emailLogin':
                        text.textContent = '‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏î‡πâ‡∏ß‡∏¢‡∏≠‡∏µ‡πÄ‡∏°‡∏•';
                        break;
                    case 'googleSignIn':
                        text.textContent = '‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏î‡πâ‡∏ß‡∏¢ Google';
                        break;
                    case 'anonymousSignIn':
                        text.textContent = '‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏ö‡∏ö‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏ï‡∏±‡∏ß‡∏ï‡∏ô';
                        break;
                }
            }
        }

        function getFirebaseErrorMessage(errorCode) {
            const errorMessages = {
                'auth/user-not-found': '‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ô‡∏µ‡πâ‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö',
                'auth/wrong-password': '‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á',
                'auth/email-already-in-use': '‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ô‡∏µ‡πâ‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß',
                'auth/weak-password': '‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢',
                'auth/invalid-email': '‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á',
                'auth/popup-closed-by-user': '‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö',
                'auth/cancelled-popup-request': '‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏ñ‡∏π‡∏Å‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å',
                'auth/popup-blocked': '‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏ö‡∏•‡πá‡∏≠‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏õ‡πä‡∏≠‡∏õ‡∏≠‡∏±‡∏õ',
                'auth/operation-not-allowed': '‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï',
                'auth/too-many-requests': '‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏°‡∏≤‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà'
            };
            
            return errorMessages[errorCode] || '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö';
        }

        function showPage(page) {
            // Hide all pages
            document.querySelectorAll('.page-content').forEach(p => p.classList.add('hidden'));
            
            // Update navigation
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('bg-blue-600', 'text-white');
                btn.classList.add('text-gray-600', 'hover:text-blue-600');
            });

            currentPage = page;

            switch(page) {
                case 'home':
                    document.getElementById('homePage').classList.remove('hidden');
                    document.getElementById('homeBtn').classList.add('bg-blue-600', 'text-white');
                    loadLatestNews();
                    break;
                case 'news':
                    document.getElementById('newsPage').classList.remove('hidden');
                    document.getElementById('allNewsBtn').classList.add('bg-blue-600', 'text-white');
                    loadAllNews();
                    break;
                case 'postExam':
                    document.getElementById('postExamPage').classList.remove('hidden');
                    break;
                case 'postTransfer':
                    document.getElementById('postTransferPage').classList.remove('hidden');
                    break;
                case 'exam':
                    document.getElementById('examPage').classList.remove('hidden');
                    document.getElementById('examBtn').classList.add('bg-blue-600', 'text-white');
                    break;
                case 'examCategory':
                    document.getElementById('examCategoryPage').classList.remove('hidden');
                    break;
                case 'agency':
                    document.getElementById('agencyPage').classList.remove('hidden');
                    document.getElementById('agencyBtn').classList.add('bg-blue-600', 'text-white');
                    break;
                case 'transferCategory':
                    document.getElementById('transferCategoryPage').classList.remove('hidden');
                    break;
                case 'agencyPortal':
                    document.getElementById('agencyPortalPage').classList.remove('hidden');
                    break;
                case 'admin':
                    document.getElementById('adminPage').classList.remove('hidden');
                    document.getElementById('adminBtn').classList.add('bg-blue-600', 'text-white');
                    if (currentUser) {
                        showAdminDashboard();
                    } else {
                        showAdminLogin();
                    }
                    break;
            }
        }

        function loadLatestNews() {
            const container = document.getElementById('latestNews');
            const latest = newsData.filter(news => news.status === 'active').slice(0, 3);
            
            container.innerHTML = latest.map(news => `
                <div class="border-l-4 border-blue-500 pl-4 py-2">
                    <h4 class="font-semibold text-gray-800">${news.title}</h4>
                    <p class="text-sm text-gray-600">${news.department} ‚Ä¢ ${formatDate(news.date)}</p>
                </div>
            `).join('');

            document.getElementById('newsCount').textContent = newsData.filter(n => n.status === 'active').length;
        }

        function loadAllNews() {
            const container = document.getElementById('newsGrid');
            const activeNews = newsData.filter(news => news.status === 'active');
            
            container.innerHTML = activeNews.map(news => {
                const applicationStatus = getApplicationStatus(news.startDate, news.endDate);
                const statusColor = applicationStatus.status === 'open' ? 'green' : 
                                  applicationStatus.status === 'closing' ? 'yellow' : 'red';
                
                return `
                    <div class="bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow border-l-4 border-${statusColor}-500">
                        <div class="flex items-center justify-between mb-4">
                            <span class="bg-blue-100 text-blue-800 text-sm font-medium px-3 py-1 rounded-full">${news.department}</span>
                            <span class="text-sm text-gray-500">${formatDate(news.date)}</span>
                        </div>
                        <h3 class="text-xl font-semibold text-gray-800 mb-3">${news.title}</h3>
                        <p class="text-gray-600 mb-4">${news.content}</p>
                        
                        <div class="bg-gray-50 rounded-lg p-4 mb-4">
                            <div class="grid grid-cols-2 gap-4 text-sm">
                                <div>
                                    <span class="text-gray-600">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏≠‡∏±‡∏ï‡∏£‡∏≤:</span>
                                    <span class="font-semibold text-blue-600">${news.positions} ‡∏≠‡∏±‡∏ï‡∏£‡∏≤</span>
                                </div>
                                <div>
                                    <span class="text-gray-600">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:</span>
                                    <span class="font-semibold text-${statusColor}-600">${applicationStatus.text}</span>
                                </div>
                                <div class="col-span-2">
                                    <span class="text-gray-600">‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡∏°‡∏±‡∏Ñ‡∏£:</span>
                                    <span class="font-semibold">${formatDate(news.startDate)} - ${formatDate(news.endDate)}</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="flex space-x-3">
                            <button 
                                onclick="applyForTransfer(${news.id})" 
                                class="flex-1 ${applicationStatus.status === 'open' || applicationStatus.status === 'closing' ? 
                                    'bg-green-600 hover:bg-green-700 text-white' : 
                                    'bg-gray-300 text-gray-500 cursor-not-allowed'} 
                                py-2 px-4 rounded-lg transition-colors font-medium"
                                ${applicationStatus.status === 'closed' ? 'disabled' : ''}
                            >
                                ${applicationStatus.status === 'closed' ? '‡∏´‡∏°‡∏î‡πÄ‡∏Ç‡∏ï‡∏™‡∏°‡∏±‡∏Ñ‡∏£' : '‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢'}
                            </button>
                            <button 
                                onclick="downloadFile('${news.fileUrl}', '${news.fileName}')" 
                                class="bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-colors font-medium"
                            >
                                üìÑ ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î
                            </button>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function filterNews() {
            const searchTerm = document.getElementById('searchNews').value.toLowerCase();
            const selectedDept = document.getElementById('filterDepartment').value;
            
            let filtered = newsData.filter(news => news.status === 'active');
            
            if (searchTerm) {
                filtered = filtered.filter(news => 
                    news.title.toLowerCase().includes(searchTerm) ||
                    news.content.toLowerCase().includes(searchTerm)
                );
            }
            
            if (selectedDept) {
                filtered = filtered.filter(news => news.department === selectedDept);
            }
            
            const container = document.getElementById('newsGrid');
            container.innerHTML = filtered.map(news => `
                <div class="bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow">
                    <div class="flex items-center justify-between mb-4">
                        <span class="bg-blue-100 text-blue-800 text-sm font-medium px-3 py-1 rounded-full">${news.department}</span>
                        <span class="text-sm text-gray-500">${formatDate(news.date)}</span>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-800 mb-3">${news.title}</h3>
                    <p class="text-gray-600 mb-4">${news.content}</p>
                    <button class="text-blue-600 hover:text-blue-800 font-medium">‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° ‚Üí</button>
                </div>
            `).join('');
        }

        function showAdminLogin() {
            document.getElementById('adminLogin').classList.remove('hidden');
            document.getElementById('adminDashboard').classList.add('hidden');
        }

        function showAdminDashboard() {
            document.getElementById('adminLogin').classList.add('hidden');
            document.getElementById('adminDashboard').classList.remove('hidden');
            loadAdminNews();
            updateStats();
            
            // Update Firebase info if user is logged in
            if (currentUser) {
                updateFirebaseInfo(currentUser);
            }
        }

        function showAdminTab(tabName) {
            // Update tab buttons
            document.querySelectorAll('.admin-tab').forEach(tab => {
                tab.classList.remove('border-blue-500', 'text-blue-600');
                tab.classList.add('border-transparent', 'text-gray-500');
            });
            
            document.querySelector(`[data-tab="${tabName}"]`).classList.add('border-blue-500', 'text-blue-600');
            document.querySelector(`[data-tab="${tabName}"]`).classList.remove('border-transparent', 'text-gray-500');
            
            // Show tab content
            document.querySelectorAll('.admin-tab-content').forEach(content => {
                content.classList.add('hidden');
            });
            
            document.getElementById(tabName).classList.remove('hidden');
            
            if (tabName === 'manage-news') {
                loadAdminNews();
            }
        }

        function loadAdminNews() {
            const tbody = document.getElementById('newsTableBody');
            tbody.innerHTML = newsData.map(news => `
                <tr>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="text-sm font-medium text-gray-900">${news.title}</div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="text-sm text-gray-900">${news.department}</div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="text-sm text-gray-900">${formatDate(news.date)}</div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                        <button onclick="editNews(${news.id})" class="text-blue-600 hover:text-blue-900 mr-3">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                        <button onclick="deleteNews(${news.id})" class="text-red-600 hover:text-red-900">‡∏•‡∏ö</button>
                    </td>
                </tr>
            `).join('');
        }

        async function handleAddNews(e) {
            e.preventDefault();
            
            const form = e.target;
            const editId = form.dataset.editId;
            
            const newsData = {
                title: document.getElementById('newsTitle').value,
                department: document.getElementById('newsDepartment').value,
                content: document.getElementById('newsContent').value,
                date: document.getElementById('newsDate').value,
                status: document.getElementById('newsStatus').value,
                startDate: document.getElementById('newsDate').value,
                endDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],
                positions: Math.floor(Math.random() * 50) + 10,
                fileUrl: null,
                fileName: null
            };
            
            try {
                if (editId) {
                    // Update existing news
                    await updateNewsInFirebase(editId, newsData);
                    showSuccess('‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡πÅ‡∏•‡∏∞‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÉ‡∏ô Firebase ‡πÅ‡∏•‡πâ‡∏ß');
                } else {
                    // Add new news (admin bypass approval)
                    await addNewsToFirebase(newsData, false);
                    showSuccess('‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πà‡∏≤‡∏ß‡πÉ‡∏´‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡πÅ‡∏•‡∏∞‡πÄ‡∏ú‡∏¢‡πÅ‡∏û‡∏£‡πà‡∏ó‡∏±‡∏ô‡∏ó‡∏µ');
                }
                
                // Reset form
                form.reset();
                delete form.dataset.editId;
                
                // Reset button text
                const submitBtn = form.querySelector('button[type="submit"]');
                submitBtn.textContent = '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πà‡∏≤‡∏ß';
                
            } catch (error) {
                console.error('Error saving news:', error);
                showError('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πà‡∏≤‡∏ß');
            }
        }

        function editNews(id) {
            const news = newsData.find(n => n.id === id);
            if (news) {
                // Switch to add news tab and populate form
                showAdminTab('add-news');
                document.getElementById('newsTitle').value = news.title;
                document.getElementById('newsDepartment').value = news.department;
                document.getElementById('newsContent').value = news.content;
                document.getElementById('newsDate').value = news.date;
                document.getElementById('newsStatus').value = news.status;
                
                // Store the ID for updating instead of creating new
                document.getElementById('addNewsForm').dataset.editId = id;
                
                // Change button text
                const submitBtn = document.querySelector('#addNewsForm button[type="submit"]');
                submitBtn.textContent = '‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ç‡πà‡∏≤‡∏ß';
            }
        }

        async function deleteNews(id) {
            if (confirm('‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏Ç‡πà‡∏≤‡∏ß‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')) {
                try {
                    await deleteNewsFromFirebase(id);
                    showSuccess('‡∏•‡∏ö‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡πÅ‡∏•‡∏∞‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Firebase ‡πÅ‡∏•‡πâ‡∏ß');
                } catch (error) {
                    console.error('Error deleting news:', error);
                    showError('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏Ç‡πà‡∏≤‡∏ß');
                }
            }
        }

        function updateStats() {
            const total = newsData.length;
            const published = newsData.filter(n => n.status === 'active').length;
            const draft = newsData.filter(n => n.status === 'draft').length;
            
            document.getElementById('totalNewsStats').textContent = total;
            document.getElementById('publishedNewsStats').textContent = published;
            document.getElementById('draftNewsStats').textContent = draft;
            document.getElementById('newsCount').textContent = published;
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('th-TH', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
        }

        function showSuccess(message) {
            document.getElementById('successMessage').textContent = message;
            document.getElementById('successModal').classList.remove('hidden');
            document.getElementById('successModal').classList.add('flex');
        }

        function showError(message) {
            document.getElementById('errorMessage').textContent = message;
            document.getElementById('errorModal').classList.remove('hidden');
            document.getElementById('errorModal').classList.add('flex');
        }

        // Agency functions
        function openAgencyPortal(agencyType) {
            currentAgency = agencyType;
            const agencyData = getAgencyData(agencyType);
            
            document.getElementById('agencyName').textContent = agencyData.name;
            document.getElementById('agencyLogo').innerHTML = agencyData.logo;
            document.getElementById('agencyLogo').className = `w-16 h-16 ${agencyData.bgColor} rounded-full flex items-center justify-center mr-4`;
            
            showPage('agencyPortal');
            showAgencyLogin();
        }

        function getAgencyData(type) {
            const agencies = {
                education: {
                    name: '‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ò‡∏¥‡∏Å‡∏≤‡∏£',
                    bgColor: 'bg-blue-100',
                    logo: '<svg class="w-10 h-10 text-blue-600" fill="currentColor" viewBox="0 0 24 24"><path d="M12 3L2 12h3v8h6v-6h2v6h6v-8h3L12 3z"/></svg>'
                },
                interior: {
                    name: '‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏°‡∏´‡∏≤‡∏î‡πÑ‡∏ó‡∏¢',
                    bgColor: 'bg-green-100',
                    logo: '<svg class="w-10 h-10 text-green-600" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>'
                },
                health: {
                    name: '‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏™‡∏∏‡∏Ç',
                    bgColor: 'bg-red-100',
                    logo: '<svg class="w-10 h-10 text-red-600" fill="currentColor" viewBox="0 0 24 24"><path d="M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"/></svg>'
                }
            };
            return agencies[type];
        }

        function handleAgencyLogin() {
            const username = document.getElementById('agencyUsername').value;
            const password = document.getElementById('agencyPassword').value;
            
            if (username === 'agency' && password === 'password') {
                showAgencyDashboard();
                showSuccess('‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');
            } else {
                showError('‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á');
            }
        }

        function handleAgencyLogout() {
            showAgencyLogin();
            showSuccess('‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');
        }

        function showAgencyLogin() {
            document.getElementById('agencyLogin').classList.remove('hidden');
            document.getElementById('agencyDashboard').classList.add('hidden');
        }

        function showAgencyDashboard() {
            document.getElementById('agencyLogin').classList.add('hidden');
            document.getElementById('agencyDashboard').classList.remove('hidden');
            loadAgencyNews();
        }

        async function handleAgencyNewsSubmit(e) {
            e.preventDefault();
            
            const fileInput = document.getElementById('agencyFile');
            const fileName = fileInput.files[0] ? fileInput.files[0].name : null;
            
            const newNews = {
                title: document.getElementById('agencyNewsTitle').value,
                department: getAgencyData(currentAgency).name,
                content: document.getElementById('agencyNewsContent').value,
                date: new Date().toISOString().split('T')[0],
                startDate: document.getElementById('agencyStartDate').value,
                endDate: document.getElementById('agencyEndDate').value,
                positions: parseInt(document.getElementById('agencyPositions').value),
                status: 'active',
                fileUrl: fileName ? `agency-${Date.now()}.pdf` : null,
                fileName: fileName || null
            };
            
            try {
                await addNewsToFirebase(newNews, true); // Require approval
                
                document.getElementById('agencyNewsForm').reset();
                loadAgencyNews();
                showSuccess('‡∏™‡πà‡∏á‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß ‡∏£‡∏≠‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥');
            } catch (error) {
                console.error('Error adding agency news:', error);
                showError('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®');
            }
        }

        function loadAgencyNews() {
            const container = document.getElementById('agencyNewsList');
            const agencyName = getAgencyData(currentAgency).name;
            const agencyNews = newsData.filter(news => news.department === agencyName);
            
            container.innerHTML = agencyNews.map(news => `
                <div class="bg-white border border-gray-200 rounded-lg p-4">
                    <div class="flex justify-between items-start mb-2">
                        <h5 class="font-semibold text-gray-800">${news.title}</h5>
                        <span class="text-sm text-gray-500">${formatDate(news.date)}</span>
                    </div>
                    <p class="text-sm text-gray-600 mb-2">${news.content}</p>
                    <div class="flex justify-between items-center text-sm">
                        <span class="text-blue-600">${news.positions} ‡∏≠‡∏±‡∏ï‡∏£‡∏≤</span>
                        <span class="text-gray-500">${formatDate(news.startDate)} - ${formatDate(news.endDate)}</span>
                    </div>
                </div>
            `).join('') || '<p class="text-gray-500 text-center py-8">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®</p>';
        }

        function getApplicationStatus(startDate, endDate) {
            const today = new Date();
            const start = new Date(startDate);
            const end = new Date(endDate);
            
            if (today < start) {
                return { status: 'pending', text: '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£' };
            } else if (today > end) {
                return { status: 'closed', text: '‡∏´‡∏°‡∏î‡πÄ‡∏Ç‡∏ï‡∏™‡∏°‡∏±‡∏Ñ‡∏£' };
            } else {
                const daysLeft = Math.ceil((end - today) / (1000 * 60 * 60 * 24));
                if (daysLeft <= 3) {
                    return { status: 'closing', text: `‡πÄ‡∏´‡∏•‡∏∑‡∏≠ ${daysLeft} ‡∏ß‡∏±‡∏ô` };
                }
                return { status: 'open', text: '‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£' };
            }
        }

        function applyForTransfer(newsId) {
            const news = newsData.find(n => n.id === newsId);
            if (news) {
                showSuccess(`‡∏™‡πà‡∏á‡πÉ‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢ "${news.title}" ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß`);
            }
        }

        function downloadFile(fileUrl, fileName) {
            // Simulate file download
            const link = document.createElement('a');
            link.href = '#';
            link.download = fileName;
            
            // Create a blob with sample PDF content
            const pdfContent = `%PDF-1.4
1 0 obj
<<
/Type /Catalog
/Pages 2 0 R
>>
endobj
2 0 obj
<<
/Type /Pages
/Kids [3 0 R]
/Count 1
>>
endobj
3 0 obj
<<
/Type /Page
/Parent 2 0 R
/MediaBox [0 0 612 792]
/Contents 4 0 R
>>
endobj
4 0 obj
<<
/Length 44
>>
stream
BT
/F1 12 Tf
100 700 Td
(‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£) Tj
ET
endstream
endobj
xref
0 5
0000000000 65535 f 
0000000009 00000 n 
0000000058 00000 n 
0000000115 00000 n 
0000000206 00000 n 
trailer
<<
/Size 5
/Root 1 0 R
>>
startxref
300
%%EOF`;
            
            const blob = new Blob([pdfContent], { type: 'application/pdf' });
            const url = URL.createObjectURL(blob);
            
            link.href = url;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);
            
            showSuccess(`‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå "${fileName}" ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß`);
        }

        // Post functions
        function showPostExam() {
            showPage('postExam');
        }

        function showPostTransfer() {
            showPage('postTransfer');
        }

        function handlePostExam(e) {
            e.preventDefault();
            
            const newExam = {
                id: Date.now(),
                title: document.getElementById('examPosition').value,
                department: document.getElementById('examDepartment').value,
                level: document.getElementById('examEducation').value,
                positions: parseInt(document.getElementById('examPositionsCount').value),
                applicants: 0,
                examDate: document.getElementById('examDate').value,
                applicationStart: document.getElementById('examApplicationStart').value,
                applicationEnd: document.getElementById('examApplicationEnd').value,
                status: 'open',
                salary: document.getElementById('examSalary').value,
                location: document.getElementById('examLocation').value,
                description: document.getElementById('examDescription').value
            };
            
            const examType = document.getElementById('examType').value;
            examData[examType].unshift(newExam);
            
            document.getElementById('postExamForm').reset();
            showSuccess('‡πÄ‡∏ú‡∏¢‡πÅ‡∏û‡∏£‡πà‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏™‡∏≠‡∏ö‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');
        }

        async function handlePostTransfer(e) {
            e.preventDefault();
            
            const newTransfer = {
                id: Date.now(),
                title: document.getElementById('transferTitle').value,
                department: document.getElementById('transferDepartment').value,
                positions: parseInt(document.getElementById('transferPositionsCount').value),
                location: document.getElementById('transferLocation').value,
                applicationStart: document.getElementById('transferApplicationStart').value,
                applicationEnd: document.getElementById('transferApplicationEnd').value,
                salary: document.getElementById('transferSalary').value,
                requirements: document.getElementById('transferRequirements').value,
                description: document.getElementById('transferDescription').value,
                status: 'open'
            };
            
            const transferType = document.getElementById('transferType').value;
            transferData[transferType].unshift(newTransfer);
            
            // Also add to news data in Firebase
            const newsItem = {
                title: newTransfer.title,
                department: newTransfer.department,
                content: newTransfer.description,
                date: new Date().toISOString().split('T')[0],
                startDate: newTransfer.applicationStart,
                endDate: newTransfer.applicationEnd,
                positions: newTransfer.positions,
                status: 'active',
                fileUrl: null,
                fileName: null
            };
            
            try {
                await addNewsToFirebase(newsItem);
                
                document.getElementById('postTransferForm').reset();
                showSuccess('‡πÄ‡∏ú‡∏¢‡πÅ‡∏û‡∏£‡πà‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡πÅ‡∏•‡∏∞‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÉ‡∏ô Firebase ‡πÅ‡∏•‡πâ‡∏ß');
            } catch (error) {
                console.error('Error posting transfer:', error);
                showError('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ú‡∏¢‡πÅ‡∏û‡∏£‡πà‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®');
            }
        }

        // Set default dates for new news
        const today = new Date().toISOString().split('T')[0];
        const nextWeek = new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString().split('T')[0];
        const nextMonth = new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0];
        
        if (document.getElementById('newsDate')) {
            document.getElementById('newsDate').value = today;
        }
        if (document.getElementById('agencyStartDate')) {
            document.getElementById('agencyStartDate').value = nextWeek;
            document.getElementById('agencyEndDate').value = nextMonth;
        }
        
        // Set default dates for post forms
        if (document.getElementById('examApplicationStart')) {
            document.getElementById('examApplicationStart').value = nextWeek;
            document.getElementById('examApplicationEnd').value = nextMonth;
            document.getElementById('examDate').value = new Date(Date.now() + 45 * 24 * 60 * 60 * 1000).toISOString().split('T')[0];
        }
        
        if (document.getElementById('transferApplicationStart')) {
            document.getElementById('transferApplicationStart').value = nextWeek;
            document.getElementById('transferApplicationEnd').value = nextMonth;
        }

        // Exam functions
        function showExamCategory(category) {
            currentExamCategory = category;
            
            if (category === 'csc') {
                document.getElementById('examCategoryTitle').textContent = '‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö‡∏ú‡πà‡∏≤‡∏ô ‡∏Å‡∏û.';
                document.getElementById('examCategoryDesc').textContent = '‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£‡∏ú‡πà‡∏≤‡∏ô‡∏Ñ‡∏ì‡∏∞‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£‡∏û‡∏•‡πÄ‡∏£‡∏∑‡∏≠‡∏ô';
            } else {
                document.getElementById('examCategoryTitle').textContent = '‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô ‡∏Å‡∏û.';
                document.getElementById('examCategoryDesc').textContent = '‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£‡πÇ‡∏î‡∏¢‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô‡πÄ‡∏à‡πâ‡∏≤‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î‡πÄ‡∏≠‡∏á';
            }
            
            showPage('examCategory');
            loadExamList();
        }

        function loadExamList() {
            const container = document.getElementById('examList');
            const exams = examData[currentExamCategory] || [];
            
            container.innerHTML = exams.map(exam => {
                const statusInfo = getExamStatusInfo(exam.status);
                const applicationStatus = getApplicationStatus(exam.applicationStart, exam.applicationEnd);
                
                return `
                    <div class="bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow border-l-4 ${statusInfo.borderColor}">
                        <div class="flex flex-col lg:flex-row lg:items-center justify-between mb-4">
                            <div class="flex items-center space-x-4 mb-4 lg:mb-0">
                                <div class="w-12 h-12 ${statusInfo.bgColor} rounded-full flex items-center justify-center">
                                    <span class="text-xl">${statusInfo.icon}</span>
                                </div>
                                <div>
                                    <h3 class="text-xl font-bold text-gray-800">${exam.title}</h3>
                                    <p class="text-gray-600">${exam.department}</p>
                                </div>
                            </div>
                            <div class="flex items-center space-x-3">
                                <span class="px-3 py-1 ${statusInfo.statusClass} text-sm font-medium rounded-full">
                                    ${statusInfo.text}
                                </span>
                                <span class="px-3 py-1 bg-gray-100 text-gray-800 text-sm font-medium rounded-full">
                                    ${exam.level}
                                </span>
                            </div>
                        </div>
                        
                        <p class="text-gray-600 mb-4">${exam.description}</p>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
                            <div class="bg-blue-50 rounded-lg p-3">
                                <div class="text-sm text-blue-600 mb-1">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏≠‡∏±‡∏ï‡∏£‡∏≤</div>
                                <div class="font-bold text-blue-800">${exam.positions} ‡∏≠‡∏±‡∏ï‡∏£‡∏≤</div>
                            </div>
                            <div class="bg-green-50 rounded-lg p-3">
                                <div class="text-sm text-green-600 mb-1">‡∏ú‡∏π‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£</div>
                                <div class="font-bold text-green-800">${exam.applicants} ‡∏Ñ‡∏ô</div>
                            </div>
                            <div class="bg-purple-50 rounded-lg p-3">
                                <div class="text-sm text-purple-600 mb-1">‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</div>
                                <div class="font-bold text-purple-800">${exam.salary}</div>
                            </div>
                            <div class="bg-orange-50 rounded-lg p-3">
                                <div class="text-sm text-orange-600 mb-1">‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏á‡∏≤‡∏ô</div>
                                <div class="font-bold text-orange-800 text-xs">${exam.location}</div>
                            </div>
                        </div>
                        
                        <div class="bg-gray-50 rounded-lg p-4 mb-4">
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-sm">
                                <div>
                                    <span class="text-gray-600">‡∏£‡∏±‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£:</span>
                                    <span class="font-semibold">${formatDate(exam.applicationStart)} - ${formatDate(exam.applicationEnd)}</span>
                                </div>
                                <div>
                                    <span class="text-gray-600">‡∏ß‡∏±‡∏ô‡∏™‡∏≠‡∏ö:</span>
                                    <span class="font-semibold">${formatDate(exam.examDate)}</span>
                                </div>
                                <div>
                                    <span class="text-gray-600">‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô:</span>
                                    <span class="font-semibold text-red-600">1:${Math.round(exam.applicants / exam.positions)}</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="flex flex-col sm:flex-row gap-3">
                            <button 
                                onclick="applyForExam(${exam.id})" 
                                class="flex-1 ${exam.status === 'open' ? 
                                    'bg-green-600 hover:bg-green-700 text-white' : 
                                    'bg-gray-300 text-gray-500 cursor-not-allowed'} 
                                py-2 px-4 rounded-lg transition-colors font-medium"
                                ${exam.status !== 'open' ? 'disabled' : ''}
                            >
                                ${exam.status === 'open' ? 'üìù ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏≠‡∏ö' : 
                                  exam.status === 'closed' ? '‚ùå ‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£' :
                                  exam.status === 'testing' ? '‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏≠‡∏ö' : 'üìã ‡∏î‡∏π‡∏ú‡∏•‡∏™‡∏≠‡∏ö'}
                            </button>
                            <button 
                                onclick="downloadExamInfo(${exam.id})" 
                                class="bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-colors font-medium"
                            >
                                üìÑ ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®
                            </button>
                            <button 
                                onclick="viewExamDetails(${exam.id})" 
                                class="bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-lg transition-colors font-medium"
                            >
                                üëÅÔ∏è ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î
                            </button>
                        </div>
                    </div>
                `;
            }).join('') || '<div class="text-center py-12 text-gray-500">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö</div>';
        }

        function getExamStatusInfo(status) {
            const statusMap = {
                open: {
                    text: '‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£',
                    statusClass: 'bg-green-100 text-green-800',
                    borderColor: 'border-green-500',
                    bgColor: 'bg-green-100',
                    icon: '‚úÖ'
                },
                closed: {
                    text: '‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£',
                    statusClass: 'bg-red-100 text-red-800',
                    borderColor: 'border-red-500',
                    bgColor: 'bg-red-100',
                    icon: '‚ùå'
                },
                testing: {
                    text: '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏≠‡∏ö',
                    statusClass: 'bg-yellow-100 text-yellow-800',
                    borderColor: 'border-yellow-500',
                    bgColor: 'bg-yellow-100',
                    icon: '‚è≥'
                },
                announced: {
                    text: '‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ú‡∏•‡πÅ‡∏•‡πâ‡∏ß',
                    statusClass: 'bg-blue-100 text-blue-800',
                    borderColor: 'border-blue-500',
                    bgColor: 'bg-blue-100',
                    icon: 'üìã'
                }
            };
            return statusMap[status] || statusMap.open;
        }

        function filterExams() {
            const searchTerm = document.getElementById('searchExam').value.toLowerCase();
            const selectedDept = document.getElementById('filterExamDepartment').value;
            const selectedStatus = document.getElementById('filterExamStatus').value;
            
            let filtered = examData[currentExamCategory] || [];
            
            if (searchTerm) {
                filtered = filtered.filter(exam => 
                    exam.title.toLowerCase().includes(searchTerm) ||
                    exam.description.toLowerCase().includes(searchTerm)
                );
            }
            
            if (selectedDept) {
                filtered = filtered.filter(exam => exam.department === selectedDept);
            }
            
            if (selectedStatus) {
                filtered = filtered.filter(exam => exam.status === selectedStatus);
            }
            
            // Update display with filtered results
            const container = document.getElementById('examList');
            container.innerHTML = filtered.map(exam => {
                const statusInfo = getExamStatusInfo(exam.status);
                
                return `
                    <div class="bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow border-l-4 ${statusInfo.borderColor}">
                        <div class="flex flex-col lg:flex-row lg:items-center justify-between mb-4">
                            <div class="flex items-center space-x-4 mb-4 lg:mb-0">
                                <div class="w-12 h-12 ${statusInfo.bgColor} rounded-full flex items-center justify-center">
                                    <span class="text-xl">${statusInfo.icon}</span>
                                </div>
                                <div>
                                    <h3 class="text-xl font-bold text-gray-800">${exam.title}</h3>
                                    <p class="text-gray-600">${exam.department}</p>
                                </div>
                            </div>
                            <span class="px-3 py-1 ${statusInfo.statusClass} text-sm font-medium rounded-full">
                                ${statusInfo.text}
                            </span>
                        </div>
                        <p class="text-gray-600 mb-4">${exam.description}</p>
                        <div class="flex space-x-3">
                            <button onclick="applyForExam(${exam.id})" class="flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-lg transition-colors">‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏≠‡∏ö</button>
                            <button onclick="downloadExamInfo(${exam.id})" class="bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-colors">‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î</button>
                        </div>
                    </div>
                `;
            }).join('') || '<div class="text-center py-12 text-gray-500">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç</div>';
        }

        function applyForExam(examId) {
            const allExams = [...examData.csc, ...examData['non-csc']];
            const exam = allExams.find(e => e.id === examId);
            if (exam) {
                showSuccess(`‡∏™‡πà‡∏á‡πÉ‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏≠‡∏ö "${exam.title}" ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß`);
            }
        }

        function downloadExamInfo(examId) {
            const allExams = [...examData.csc, ...examData['non-csc']];
            const exam = allExams.find(e => e.id === examId);
            if (exam) {
                // Simulate file download
                const fileName = `‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏™‡∏≠‡∏ö_${exam.title.replace(/\s+/g, '_')}.pdf`;
                downloadFile(`exam-${examId}.pdf`, fileName);
            }
        }

        function viewExamDetails(examId) {
            const allExams = [...examData.csc, ...examData['non-csc']];
            const exam = allExams.find(e => e.id === examId);
            if (exam) {
                showSuccess(`‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö "${exam.title}"`);
            }
        }

        // Transfer functions
        function openTransferCategory(category) {
            currentTransferCategory = category;
            
            const categoryInfo = {
                civil: {
                    title: '‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£‡∏û‡∏•‡πÄ‡∏£‡∏∑‡∏≠‡∏ô',
                    desc: '‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£‡∏û‡∏•‡πÄ‡∏£‡∏∑‡∏≠‡∏ô‡∏ó‡∏∏‡∏Å‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á'
                },
                local: {
                    title: '‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡∏¥‡πà‡∏ô',
                    desc: '‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡∏¥‡πà‡∏ô‡∏ó‡∏∏‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö'
                },
                independent: {
                    title: '‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡∏≠‡∏¥‡∏™‡∏£‡∏∞',
                    desc: '‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡∏≠‡∏¥‡∏™‡∏£‡∏∞‡πÅ‡∏•‡∏∞‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô‡∏£‡∏±‡∏ê'
                },
                others: {
                    title: '‡∏≠‡∏∑‡πà‡∏ô‡πÜ',
                    desc: '‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ê‡∏ß‡∏¥‡∏™‡∏≤‡∏´‡∏Å‡∏¥‡∏à'
                }
            };
            
            document.getElementById('transferCategoryTitle').textContent = categoryInfo[category].title;
            document.getElementById('transferCategoryDesc').textContent = categoryInfo[category].desc;
            
            showPage('transferCategory');
            loadTransferList();
        }

        function loadTransferList() {
            const container = document.getElementById('transferList');
            const transfers = transferData[currentTransferCategory] || [];
            
            container.innerHTML = transfers.map(transfer => {
                const applicationStatus = getApplicationStatus(transfer.applicationStart, transfer.applicationEnd);
                const statusInfo = getTransferStatusInfo(applicationStatus.status);
                
                return `
                    <div class="bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow border-l-4 ${statusInfo.borderColor}">
                        <div class="flex flex-col lg:flex-row lg:items-center justify-between mb-4">
                            <div class="flex items-center space-x-4 mb-4 lg:mb-0">
                                <div class="w-12 h-12 ${statusInfo.bgColor} rounded-full flex items-center justify-center">
                                    <span class="text-xl">${statusInfo.icon}</span>
                                </div>
                                <div>
                                    <h3 class="text-xl font-bold text-gray-800">${transfer.title}</h3>
                                    <p class="text-gray-600">${transfer.department}</p>
                                </div>
                            </div>
                            <span class="px-3 py-1 ${statusInfo.statusClass} text-sm font-medium rounded-full">
                                ${applicationStatus.text}
                            </span>
                        </div>
                        
                        <p class="text-gray-600 mb-4">${transfer.description}</p>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
                            <div class="bg-blue-50 rounded-lg p-3">
                                <div class="text-sm text-blue-600 mb-1">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏≠‡∏±‡∏ï‡∏£‡∏≤</div>
                                <div class="font-bold text-blue-800">${transfer.positions} ‡∏≠‡∏±‡∏ï‡∏£‡∏≤</div>
                            </div>
                            <div class="bg-green-50 rounded-lg p-3">
                                <div class="text-sm text-green-600 mb-1">‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</div>
                                <div class="font-bold text-green-800">${transfer.salary}</div>
                            </div>
                            <div class="bg-purple-50 rounded-lg p-3">
                                <div class="text-sm text-purple-600 mb-1">‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏á‡∏≤‡∏ô</div>
                                <div class="font-bold text-purple-800 text-xs">${transfer.location}</div>
                            </div>
                            <div class="bg-orange-50 rounded-lg p-3">
                                <div class="text-sm text-orange-600 mb-1">‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥</div>
                                <div class="font-bold text-orange-800 text-xs">${transfer.requirements}</div>
                            </div>
                        </div>
                        
                        <div class="bg-gray-50 rounded-lg p-4 mb-4">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                                <div>
                                    <span class="text-gray-600">‡∏£‡∏±‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£:</span>
                                    <span class="font-semibold">${formatDate(transfer.applicationStart)} - ${formatDate(transfer.applicationEnd)}</span>
                                </div>
                                <div>
                                    <span class="text-gray-600">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:</span>
                                    <span class="font-semibold ${statusInfo.textColor}">${applicationStatus.text}</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="flex flex-col sm:flex-row gap-3">
                            <button 
                                onclick="applyForTransfer(${transfer.id})" 
                                class="flex-1 ${applicationStatus.status === 'open' || applicationStatus.status === 'closing' ? 
                                    'bg-green-600 hover:bg-green-700 text-white' : 
                                    'bg-gray-300 text-gray-500 cursor-not-allowed'} 
                                py-2 px-4 rounded-lg transition-colors font-medium"
                                ${applicationStatus.status === 'closed' ? 'disabled' : ''}
                            >
                                ${applicationStatus.status === 'closed' ? '‚ùå ‡∏´‡∏°‡∏î‡πÄ‡∏Ç‡∏ï‡∏™‡∏°‡∏±‡∏Ñ‡∏£' : 'üìù ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢'}
                            </button>
                            <button 
                                onclick="downloadTransferInfo(${transfer.id})" 
                                class="bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-colors font-medium"
                            >
                                üìÑ ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®
                            </button>
                            <button 
                                onclick="viewTransferDetails(${transfer.id})" 
                                class="bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-lg transition-colors font-medium"
                            >
                                üëÅÔ∏è ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î
                            </button>
                        </div>
                    </div>
                `;
            }).join('') || '<div class="text-center py-12 text-gray-500">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢</div>';
        }

        function getTransferStatusInfo(status) {
            const statusMap = {
                open: {
                    statusClass: 'bg-green-100 text-green-800',
                    borderColor: 'border-green-500',
                    bgColor: 'bg-green-100',
                    textColor: 'text-green-600',
                    icon: '‚úÖ'
                },
                closing: {
                    statusClass: 'bg-yellow-100 text-yellow-800',
                    borderColor: 'border-yellow-500',
                    bgColor: 'bg-yellow-100',
                    textColor: 'text-yellow-600',
                    icon: '‚è∞'
                },
                closed: {
                    statusClass: 'bg-red-100 text-red-800',
                    borderColor: 'border-red-500',
                    bgColor: 'bg-red-100',
                    textColor: 'text-red-600',
                    icon: '‚ùå'
                }
            };
            return statusMap[status] || statusMap.open;
        }

        function filterTransfers() {
            const searchTerm = document.getElementById('searchTransfer').value.toLowerCase();
            const selectedDept = document.getElementById('filterTransferDepartment').value;
            const selectedStatus = document.getElementById('filterTransferStatus').value;
            
            let filtered = transferData[currentTransferCategory] || [];
            
            if (searchTerm) {
                filtered = filtered.filter(transfer => 
                    transfer.title.toLowerCase().includes(searchTerm) ||
                    transfer.description.toLowerCase().includes(searchTerm) ||
                    transfer.department.toLowerCase().includes(searchTerm)
                );
            }
            
            if (selectedDept) {
                filtered = filtered.filter(transfer => transfer.department === selectedDept);
            }
            
            if (selectedStatus) {
                filtered = filtered.filter(transfer => {
                    const applicationStatus = getApplicationStatus(transfer.applicationStart, transfer.applicationEnd);
                    return applicationStatus.status === selectedStatus;
                });
            }
            
            // Update display with filtered results
            const container = document.getElementById('transferList');
            container.innerHTML = filtered.map(transfer => {
                const applicationStatus = getApplicationStatus(transfer.applicationStart, transfer.applicationEnd);
                const statusInfo = getTransferStatusInfo(applicationStatus.status);
                
                return `
                    <div class="bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow border-l-4 ${statusInfo.borderColor}">
                        <div class="flex flex-col lg:flex-row lg:items-center justify-between mb-4">
                            <div class="flex items-center space-x-4 mb-4 lg:mb-0">
                                <div class="w-12 h-12 ${statusInfo.bgColor} rounded-full flex items-center justify-center">
                                    <span class="text-xl">${statusInfo.icon}</span>
                                </div>
                                <div>
                                    <h3 class="text-xl font-bold text-gray-800">${transfer.title}</h3>
                                    <p class="text-gray-600">${transfer.department}</p>
                                </div>
                            </div>
                            <span class="px-3 py-1 ${statusInfo.statusClass} text-sm font-medium rounded-full">
                                ${applicationStatus.text}
                            </span>
                        </div>
                        <p class="text-gray-600 mb-4">${transfer.description}</p>
                        <div class="flex space-x-3">
                            <button onclick="applyForTransfer(${transfer.id})" class="flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-lg transition-colors">‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢</button>
                            <button onclick="downloadTransferInfo(${transfer.id})" class="bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-colors">‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î</button>
                        </div>
                    </div>
                `;
            }).join('') || '<div class="text-center py-12 text-gray-500">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç</div>';
        }

        function downloadTransferInfo(transferId) {
            const allTransfers = [...transferData.civil, ...transferData.local, ...transferData.independent, ...transferData.others];
            const transfer = allTransfers.find(t => t.id === transferId);
            if (transfer) {
                const fileName = `‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢_${transfer.title.replace(/\s+/g, '_')}.pdf`;
                downloadFile(`transfer-${transferId}.pdf`, fileName);
            }
        }

        function viewTransferDetails(transferId) {
            const allTransfers = [...transferData.civil, ...transferData.local, ...transferData.independent, ...transferData.others];
            const transfer = allTransfers.find(t => t.id === transferId);
            if (transfer) {
                showSuccess(`‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏® "${transfer.title}"`);
            }
        }

        // Initialize app
        showPage('home');
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9723fdde46bb45b9',t:'MTc1NTcxNDkzOS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
